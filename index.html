<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TH True DNA ‚Äì Tinh Th·ªÉ S·ªØa ƒê·ªôc B·∫£n</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --navy:       #003E7E;
      --navy-deep:  #002B5C;
      --navy-dark:  #001830;
      --blue-mid:   #0057A8;
      --blue-bright:#0072CE;
      --sky:        #A8D8F0;
      --sky-light:  #D6EEFA;
      --white:      #FFFFFF;
      --cream:      #F0F6FC;
      --gold:       #C9A84C;
      --gold-light: #E8C97A;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      background: var(--navy-dark);
      color: var(--white);
      font-family: 'DM Sans', sans-serif;
      overflow-x: hidden;
    }

    /* ‚îÄ‚îÄ CANVAS ‚îÄ‚îÄ */
    #crystalCanvas {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      opacity: 0.35;
    }

    /* ‚îÄ‚îÄ NAVBAR ‚îÄ‚îÄ */
    nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 100;
      padding: 18px 60px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(0, 24, 48, 0.8);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(168,216,240,0.15);
    }

    .nav-logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .nav-logo-mark {
      width: 34px; height: 34px;
      background: linear-gradient(135deg, var(--blue-mid), var(--sky));
      clip-path: polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);
      animation: spinHex 10s linear infinite;
    }

    @keyframes spinHex {
      to { transform: rotate(360deg); }
    }

    .nav-logo span {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.35rem;
      font-weight: 600;
      letter-spacing: 0.06em;
    }

    .nav-logo span em {
      color: var(--sky);
      font-style: normal;
    }

    .nav-links {
      display: flex;
      gap: 36px;
      list-style: none;
    }

    .nav-links a {
      color: rgba(255,255,255,0.55);
      text-decoration: none;
      font-size: 0.82rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      transition: color .3s;
    }

    .nav-links a:hover { color: var(--sky); }

    .nav-cta {
      padding: 10px 24px;
      background: transparent;
      border: 1px solid var(--blue-bright);
      color: var(--sky);
      font-family: 'DM Sans', sans-serif;
      font-size: 0.8rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      transition: all .3s;
    }

    .nav-cta:hover {
      background: var(--blue-bright);
      color: var(--white);
    }

    /* ‚îÄ‚îÄ HERO ‚îÄ‚îÄ */
    .hero {
      position: relative;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 120px 60px 80px;
      overflow: hidden;
    }

    .hero-bg {
      position: absolute;
      inset: 0;
      background:
        radial-gradient(ellipse 80% 60% at 50% 110%, rgba(0,114,206,0.28) 0%, transparent 65%),
        radial-gradient(ellipse 50% 50% at 15% 25%, rgba(0,62,126,0.3) 0%, transparent 60%),
        radial-gradient(ellipse 60% 70% at 85% 15%, rgba(168,216,240,0.08) 0%, transparent 60%),
        var(--navy-dark);
    }

    /* Milk drop decorative circles */
    .hero-circle {
      position: absolute;
      border-radius: 50%;
      border: 1px solid rgba(168,216,240,0.12);
    }
    .hero-circle:nth-child(1) { width: 600px; height: 600px; top: 50%; left: 50%; transform: translate(-50%,-50%); animation: expandRing 4s ease-in-out infinite; }
    .hero-circle:nth-child(2) { width: 900px; height: 900px; top: 50%; left: 50%; transform: translate(-50%,-50%); animation: expandRing 4s ease-in-out infinite 1s; }
    .hero-circle:nth-child(3) { width: 1200px; height: 1200px; top: 50%; left: 50%; transform: translate(-50%,-50%); animation: expandRing 4s ease-in-out infinite 2s; }

    @keyframes expandRing {
      0%   { opacity: 0.5; transform: translate(-50%,-50%) scale(0.95); }
      50%  { opacity: 0.15; transform: translate(-50%,-50%) scale(1); }
      100% { opacity: 0; transform: translate(-50%,-50%) scale(1.05); }
    }

    .hero-content {
      position: relative;
      z-index: 2;
      text-align: center;
      max-width: 820px;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 18px;
      border: 1px solid rgba(168,216,240,0.35);
      background: rgba(168,216,240,0.07);
      border-radius: 2px;
      font-size: 0.7rem;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: var(--sky);
      margin-bottom: 32px;
      animation: fadeUp .8s ease both;
    }

    .hero-badge::before {
      content: '';
      width: 6px; height: 6px;
      background: var(--sky);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%,100% { opacity:1; transform:scale(1); }
      50%      { opacity:.4; transform:scale(1.6); }
    }

    .hero-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(3.2rem, 8vw, 7rem);
      font-weight: 300;
      line-height: 1.0;
      margin-bottom: 12px;
      animation: fadeUp .9s ease .15s both;
    }

    .hero-title .line-1 { display: block; color: var(--cream); }

    .hero-title .line-2 {
      display: block;
      font-style: italic;
      background: linear-gradient(90deg, var(--sky-light), var(--sky), var(--blue-bright));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-sub {
      font-size: 1rem;
      color: rgba(255,255,255,0.52);
      font-weight: 300;
      line-height: 1.8;
      max-width: 560px;
      margin: 24px auto 48px;
      animation: fadeUp 1s ease .3s both;
    }

    .hero-actions {
      display: flex;
      gap: 16px;
      justify-content: center;
      animation: fadeUp 1s ease .45s both;
    }

    .btn-primary {
      padding: 16px 40px;
      background: linear-gradient(135deg, var(--navy), var(--blue-bright));
      border: 1px solid var(--blue-bright);
      color: var(--white);
      font-family: 'DM Sans', sans-serif;
      font-size: 0.82rem;
      font-weight: 500;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      transition: all .3s;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      clip-path: polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 40px rgba(0,114,206,0.45);
    }

    .btn-secondary {
      padding: 16px 40px;
      background: transparent;
      border: 1px solid rgba(255,255,255,0.2);
      color: rgba(255,255,255,0.65);
      font-family: 'DM Sans', sans-serif;
      font-size: 0.82rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      transition: all .3s;
      text-decoration: none;
      clip-path: polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%);
    }

    .btn-secondary:hover {
      border-color: var(--sky);
      color: var(--sky);
    }

    /* Crystal shape hero */
    .hero-crystal {
      position: absolute;
      right: 7%;
      top: 50%;
      transform: translateY(-50%);
      width: 260px;
      animation: floatCrystal 7s ease-in-out infinite;
    }

    @keyframes floatCrystal {
      0%,100% { transform: translateY(-50%) rotate(0deg); }
      50%      { transform: translateY(calc(-50% - 22px)) rotate(4deg); }
    }

    .hero-crystal svg { filter: drop-shadow(0 0 36px rgba(168,216,240,0.55)); }

    @keyframes fadeUp {
      from { opacity:0; transform:translateY(30px); }
      to   { opacity:1; transform:translateY(0); }
    }

    /* ‚îÄ‚îÄ SECTION HELPERS ‚îÄ‚îÄ */
    section { position: relative; z-index: 1; }

    .section-label {
      font-size: 0.68rem;
      letter-spacing: 0.26em;
      text-transform: uppercase;
      color: var(--sky);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-label::before {
      content: '';
      width: 32px;
      height: 1px;
      background: var(--sky);
      display: block;
    }

    /* ‚îÄ‚îÄ ABOUT ‚îÄ‚îÄ */
    .about {
      padding: 120px 60px;
      background: rgba(0,43,92,0.45);
      backdrop-filter: blur(2px);
    }

    .about-grid {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 80px;
      align-items: center;
    }

    /* DNA visual */
    .dna-visual {
      width: 100%;
      max-width: 440px;
      aspect-ratio: 1;
      position: relative;
    }

    .dna-ring {
      position: absolute;
      border-radius: 50%;
      border: 1px solid;
      animation: spinRing linear infinite;
    }

    .dna-ring:nth-child(1) { inset:0;   border-color:rgba(0,114,206,.25); animation-duration:20s; }
    .dna-ring:nth-child(2) { inset:12%; border-color:rgba(168,216,240,.2); animation-duration:15s; animation-direction:reverse; }
    .dna-ring:nth-child(3) { inset:24%; border-color:rgba(201,168,76,.3);  animation-duration:10s; }

    @keyframes spinRing { to { transform:rotate(360deg); } }

    .dna-center {
      position: absolute;
      inset: 36%;
      background: radial-gradient(circle, rgba(168,216,240,.25), rgba(0,62,126,.6));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Cormorant Garamond', serif;
      font-size: 2rem;
      font-weight: 600;
      color: var(--sky);
      border: 1px solid rgba(168,216,240,.35);
    }

    .orbit-dot {
      position: absolute;
      border-radius: 50%;
      top: calc(50% - 4px);
      left: calc(50% - 4px);
      width: 8px; height: 8px;
    }

    .orbit-dot:nth-child(4) {
      background: var(--sky); box-shadow: 0 0 10px var(--sky);
      animation: orbitA 4s linear infinite; margin-left: 46%;
    }
    .orbit-dot:nth-child(5) {
      background: var(--gold-light); box-shadow: 0 0 10px var(--gold);
      animation: orbitA 6s linear infinite reverse; margin-left: 36%;
    }
    .orbit-dot:nth-child(6) {
      background: #fff; box-shadow: 0 0 8px #fff;
      animation: orbitA 8s linear infinite; margin-left: 28%;
    }

    @keyframes orbitA {
      from { transform: rotate(0deg) translateX(0); }
      to   { transform: rotate(360deg) translateX(0); }
    }

    .about-text h2 {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(2.2rem, 4vw, 3.2rem);
      font-weight: 300;
      line-height: 1.15;
      margin-bottom: 24px;
      color: var(--cream);
    }

    .about-text h2 em { color: var(--sky); font-style: italic; }

    .about-text p {
      font-size: 0.96rem;
      line-height: 1.85;
      color: rgba(255,255,255,.58);
      margin-bottom: 18px;
    }

    .about-text p strong { color: var(--cream); font-weight: 500; }

    .about-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 28px;
    }

    .tag {
      padding: 6px 14px;
      border: 1px solid rgba(0,114,206,.35);
      background: rgba(0,114,206,.08);
      color: var(--sky);
      font-size: 0.73rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    /* ‚îÄ‚îÄ HOW IT WORKS ‚îÄ‚îÄ */
    .how { padding: 120px 60px; }

    .how-inner { max-width: 1200px; margin: 0 auto; }

    .how-header {
      text-align: center;
      margin-bottom: 72px;
    }

    .how-header .section-label { justify-content: center; }
    .how-header .section-label::before { display: inline-block; }

    .how-header h2 {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(2.4rem, 5vw, 3.8rem);
      font-weight: 300;
      color: var(--cream);
      margin-bottom: 14px;
    }

    .how-header h2 em { color: var(--sky); font-style: italic; }
    .how-header p { color: rgba(255,255,255,.48); max-width: 480px; margin: 0 auto; line-height: 1.7; }

    .steps {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 2px;
      background: rgba(0,87,168,0.2);
      border: 1px solid rgba(0,87,168,0.25);
    }

    .step {
      background: var(--navy-dark);
      padding: 48px 28px;
      position: relative;
      overflow: hidden;
      transition: background .3s;
    }

    .step:hover { background: rgba(0,43,92,0.8); }

    .step::after {
      content: '';
      position: absolute;
      bottom: 0; left: 0;
      height: 2px; width: 0;
      background: linear-gradient(90deg, var(--navy), var(--sky));
      transition: width .5s ease;
    }

    .step:hover::after { width: 100%; }

    .step:not(:last-child)::before {
      content: '‚Üí';
      position: absolute;
      right: -13px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--sky);
      font-size: 1.1rem;
      z-index: 2;
    }

    .step-num {
      font-family: 'Cormorant Garamond', serif;
      font-size: 3.8rem;
      font-weight: 300;
      color: rgba(168,216,240,.12);
      line-height: 1;
      margin-bottom: 20px;
    }

    .step-icon { width: 46px; height: 46px; margin-bottom: 18px; }

    .step h3 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.35rem;
      font-weight: 400;
      color: var(--cream);
      margin-bottom: 10px;
    }

    .step p { font-size: 0.86rem; line-height: 1.75; color: rgba(255,255,255,.48); }

    /* ‚îÄ‚îÄ CRYSTALS ‚îÄ‚îÄ */
    .crystals {
      padding: 120px 60px;
      background: rgba(0,43,92,0.35);
      overflow: hidden;
    }

    .crystals-inner { max-width: 1200px; margin: 0 auto; }

    .crystals-header {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: end;
      margin-bottom: 60px;
    }

    .crystals-header h2 {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(2.2rem, 4vw, 3.4rem);
      font-weight: 300;
      line-height: 1.15;
      color: var(--cream);
    }

    .crystals-header h2 em { color: var(--gold-light); font-style: italic; }
    .crystals-header p { color: rgba(255,255,255,.5); line-height: 1.8; }

    .crystal-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .crystal-card {
      position: relative;
      width: calc(33.333% - 14px);
      min-width: 260px;
      aspect-ratio: 3/4;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, .07);
      cursor: pointer;
    }

    .crystal-card-bg {
      position: absolute;
      inset: 0;
      transition: transform .6s ease;
    }

    .crystal-card:hover .crystal-card-bg { transform: scale(1.05); }

    .crystal-card-bg.sunflower {
      background: radial-gradient(ellipse at 50% 30%, #FFE066 0%, #F5A623 45%, #8B5E0A 100%);
    }

    .crystal-card-bg.pure {
      background: radial-gradient(ellipse at 50% 30%, #E8F4FF 0%, #A8D8F0 40%, #1C6FAD 100%);
    }

    .crystal-card-bg.emerald {
      background: radial-gradient(ellipse at 50% 30%, #88E2D0 0%, #209C82 45%, #003E5C 100%);
    }

    .crystal-card-bg.coral {
      background: radial-gradient(ellipse at 50% 30%, #FFB6A1 0%, #FF6B57 45%, #8A2519 100%);
    }

    .crystal-card-bg.rosequartz {
      background: radial-gradient(ellipse at 50% 30%, #FFE5E8 0%, #F48FB1 45%, #882A4A 100%);
    }

    .crystal-inner-shape {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .crystal-inner-shape svg {
      width: 62%;
      opacity: .88;
      filter: drop-shadow(0 0 22px rgba(255,255,255,.55));
      animation: shimmer 4s ease-in-out infinite;
    }

    @keyframes shimmer {
      0%,100% { filter: drop-shadow(0 0 18px rgba(255,255,255,.5)); }
      50%      { filter: drop-shadow(0 0 42px rgba(255,255,255,.9)); }
    }

    .crystal-overlay {
      position: absolute;
      bottom: 0; left: 0; right: 0;
      background: linear-gradient(transparent, rgba(0,20,50,.88));
      padding: 32px 22px 22px;
      transform: translateY(28px);
      opacity: 0;
      transition: all .4s ease;
    }

    .crystal-card:hover .crystal-overlay { transform: translateY(0); opacity: 1; }

    .crystal-name {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.4rem;
      color: var(--white);
      margin-bottom: 6px;
    }

    .crystal-desc { font-size: 0.78rem; color: rgba(255,255,255,.68); line-height: 1.6; }

    .crystal-badge {
      position: absolute;
      top: 14px; right: 14px;
      padding: 4px 10px;
      background: rgba(0,0,0,.45);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,.2);
      font-size: 0.63rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(255,255,255,.8);
    }

    /* ‚îÄ‚îÄ INPUT SECTION ‚îÄ‚îÄ */
    .input-section {
      padding: 120px 60px;
      text-align: center;
      background: radial-gradient(ellipse 80% 80% at 50% 110%, rgba(0,114,206,.22), transparent 68%), var(--navy-dark);
    }

    .input-inner { max-width: 620px; margin: 0 auto; }

    .input-inner h2 {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(2.4rem, 5vw, 3.8rem);
      font-weight: 300;
      color: var(--cream);
      margin-bottom: 14px;
      line-height: 1.1;
    }

    .input-inner h2 em { color: var(--sky); font-style: italic; }

    .input-inner > p {
      color: rgba(255,255,255,.48);
      margin-bottom: 48px;
      line-height: 1.75;
    }

    .code-input-wrap {
      display: flex;
      margin-bottom: 18px;
    }

    .code-input {
      flex: 1;
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(0,114,206,.35);
      border-right: none;
      padding: 18px 22px;
      color: var(--white);
      font-family: 'DM Sans', sans-serif;
      font-size: 0.95rem;
      letter-spacing: 0.14em;
      outline: none;
      transition: border-color .3s;
    }

    .code-input::placeholder { color: rgba(255,255,255,.2); }
    .code-input:focus { border-color: var(--sky); }

    .code-submit {
      padding: 18px 32px;
      background: linear-gradient(135deg, var(--navy), var(--blue-bright));
      border: 1px solid var(--blue-bright);
      border-left: none;
      color: var(--white);
      font-family: 'DM Sans', sans-serif;
      font-size: 0.82rem;
      font-weight: 500;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      cursor: pointer;
      transition: all .3s;
      white-space: nowrap;
    }

    .code-submit:hover { box-shadow: 0 0 30px rgba(0,114,206,.45); }

    .input-note {
      font-size: 0.76rem;
      color: rgba(255,255,255,.28);
      letter-spacing: 0.05em;
    }

    /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
    footer {
      background: rgba(0,0,0,.4);
      border-top: 1px solid rgba(0,114,206,.15);
      padding: 44px 60px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .footer-brand {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.1rem;
      color: rgba(255,255,255,.45);
    }

    .footer-brand em { color: var(--sky); font-style: normal; }
    .footer-copy { font-size: 0.76rem; color: rgba(255,255,255,.22); letter-spacing: .05em; }

    /* ‚îÄ‚îÄ REVEAL ‚îÄ‚îÄ */
    .reveal {
      opacity: 0;
      transform: translateY(36px);
      transition: opacity .8s ease, transform .8s ease;
    }

    .reveal.visible { opacity: 1; transform: translateY(0); }

    /* ‚îÄ‚îÄ AI MECHANISM SECTION ‚îÄ‚îÄ */
    .ai-mechanism {
      padding: 120px 60px;
      background: var(--navy-dark);
      overflow: hidden;
    }

    .ai-inner { max-width: 1200px; margin: 0 auto; }

    .ai-header {
      text-align: center;
      margin-bottom: 80px;
    }

    .ai-header .section-label { justify-content: center; }
    .ai-header .section-label::before { display: inline-block; }

    .ai-header h2 {
      font-family: 'Cormorant Garamond', serif;
      font-size: clamp(2.4rem, 5vw, 3.8rem);
      font-weight: 300;
      color: var(--cream);
      margin-bottom: 14px;
    }

    .ai-header h2 em { color: var(--sky); font-style: italic; }
    .ai-header p { color: rgba(255,255,255,.48); max-width: 520px; margin: 0 auto; line-height: 1.7; }

    /* Pipeline flow */
    .pipeline {
      display: flex;
      align-items: stretch;
      gap: 0;
      margin-bottom: 80px;
      border: 1px solid rgba(0,114,206,0.2);
    }

    .pipeline-node {
      flex: 1;
      padding: 36px 28px;
      background: rgba(0,43,92,0.3);
      position: relative;
      transition: background .3s;
    }

    .pipeline-node:hover { background: rgba(0,43,92,0.6); }

    .pipeline-node:not(:last-child)::after {
      content: '';
      position: absolute;
      right: -1px; top: 50%;
      transform: translateY(-50%);
      width: 0; height: 0;
      border-top: 18px solid transparent;
      border-bottom: 18px solid transparent;
      border-left: 18px solid var(--navy-dark);
      z-index: 2;
    }

    .pipeline-node:not(:last-child)::before {
      content: '';
      position: absolute;
      right: -20px; top: 50%;
      transform: translateY(-50%);
      width: 0; height: 0;
      border-top: 20px solid transparent;
      border-bottom: 20px solid transparent;
      border-left: 20px solid rgba(0,114,206,0.3);
      z-index: 1;
    }

    .pipeline-node:last-child {
      background: linear-gradient(135deg, rgba(0,62,126,0.5), rgba(0,114,206,0.25));
      border-left: 1px solid rgba(168,216,240,0.25);
    }

    .node-icon {
      width: 44px; height: 44px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .node-label {
      font-size: 0.65rem;
      letter-spacing: 0.22em;
      text-transform: uppercase;
      color: var(--sky);
      margin-bottom: 8px;
      opacity: .7;
    }

    .node-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.25rem;
      color: var(--cream);
      margin-bottom: 10px;
      font-weight: 400;
    }

    .node-desc {
      font-size: 0.82rem;
      color: rgba(255,255,255,.45);
      line-height: 1.7;
    }

    .node-code {
      margin-top: 12px;
      padding: 10px 14px;
      background: rgba(0,0,0,.35);
      border-left: 2px solid var(--sky);
      font-family: 'Courier New', monospace;
      font-size: 0.75rem;
      color: var(--sky);
      line-height: 1.6;
      opacity: .85;
    }

    /* Personalization table */
    .personalization {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 48px;
      align-items: start;
    }

    .pers-left h3 {
      font-family: 'Cormorant Garamond', serif;
      font-size: 2rem;
      font-weight: 300;
      color: var(--cream);
      margin-bottom: 12px;
      line-height: 1.2;
    }

    .pers-left h3 em { color: var(--sky); font-style: italic; }
    .pers-left p { color: rgba(255,255,255,.5); font-size: .92rem; line-height: 1.75; margin-bottom: 24px; }

    .seed-breakdown {
      padding: 20px 24px;
      background: rgba(0,0,0,.3);
      border: 1px solid rgba(0,114,206,.2);
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
    }

    .seed-row {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,.06);
    }

    .seed-row:last-child { border-bottom: none; }

    .seed-key {
      color: var(--sky);
      font-size: .72rem;
      letter-spacing: .08em;
      min-width: 130px;
      opacity: .8;
    }

    .seed-val {
      color: rgba(255,255,255,.75);
      font-size: .8rem;
    }

    .seed-val span {
      color: var(--gold-light);
    }

    .pers-right { display: flex; flex-direction: column; gap: 14px; }

    .pers-card {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 20px 22px;
      background: rgba(0,43,92,.3);
      border: 1px solid rgba(0,114,206,.15);
      border-left: 3px solid;
      transition: background .3s;
    }

    .pers-card:hover { background: rgba(0,43,92,.6); }

    .pers-card:nth-child(1) { border-left-color: var(--sky); }
    .pers-card:nth-child(2) { border-left-color: var(--gold-light); }
    .pers-card:nth-child(3) { border-left-color: #90E0C0; }
    .pers-card:nth-child(4) { border-left-color: #C0A0FF; }

    .pers-card-icon {
      width: 40px; height: 40px;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
    }

    .pers-card-body { flex: 1; }

    .pers-card-title {
      font-size: .82rem;
      color: var(--cream);
      font-weight: 500;
      margin-bottom: 4px;
    }

    .pers-card-desc {
      font-size: .76rem;
      color: rgba(255,255,255,.45);
      line-height: 1.6;
    }

    .pers-card-result {
      font-size: .72rem;
      color: var(--sky);
      letter-spacing: .08em;
      text-align: right;
      white-space: nowrap;
      opacity: .8;
    }

    /* ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ */
    @media (max-width: 900px) {
      nav { padding: 14px 20px; }
      .nav-links { display: none; }
      .hero { padding: 100px 24px 60px; }
      .hero-crystal { display: none; }
      .about { padding: 80px 24px; }
      .about-grid { grid-template-columns: 1fr; gap: 48px; }
      .ai-mechanism { padding: 80px 24px; }
      .pipeline { flex-direction: column; }
      .pipeline-node:not(:last-child)::after,
      .pipeline-node:not(:last-child)::before { display: none; }
      .personalization { grid-template-columns: 1fr; gap: 40px; }

      .steps { grid-template-columns: 1fr 1fr; }
      .crystals { padding: 80px 24px; }
      .crystals-header { grid-template-columns: 1fr; gap: 20px; }
      .crystal-grid { grid-template-columns: 1fr 1fr; }
      .input-section { padding: 80px 24px; }
      footer { padding: 28px 20px; flex-direction: column; gap: 12px; text-align: center; }
    }

    @media (max-width: 560px) {
      .steps { grid-template-columns: 1fr; }
      .crystal-grid { grid-template-columns: 1fr; }
      .hero-actions { flex-direction: column; align-items: center; }
    }
  </style>
</head>
<body>

<canvas id="crystalCanvas"></canvas>

<!-- NAVBAR -->
<nav>
  <div class="nav-logo">
    <div class="nav-logo-mark"></div>
    <span>TH <em>True DNA</em></span>
  </div>
  <ul class="nav-links">
    <li><a href="#about">Chi·∫øn d·ªãch</a></li>
    <li><a href="#how">C√°ch th·ª©c</a></li>
    <li><a href="#crystals">Tinh th·ªÉ</a></li>
    <li><a href="#redeem">Nh·∫≠n ngay</a></li>
  </ul>
  <button class="nav-cta">Nh·∫≠p m√£ ngay</button>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-bg">
    <div class="hero-circle"></div>
    <div class="hero-circle"></div>
    <div class="hero-circle"></div>
  </div>

  <div class="hero-content">
    <div class="hero-badge">Chi·∫øn d·ªãch ƒë·ªôc b·∫£n ¬∑ TH True Milk √ó AI Art</div>
    <h1 class="hero-title">
      <span class="line-1">Tinh Th·ªÉ S·ªØa</span>
      <span class="line-2">Ch·ªâ C·ªßa Ri√™ng B·∫°n</span>
    </h1>
    <p class="hero-sub">
      M·ªói m√£ s·ªë th·∫ª c√†o d∆∞·ªõi l·ªëc s·ªØa TH l√† m·ªôt "h·∫°t gi·ªëng s·ªë" ƒë·ªôc nh·∫•t ‚Äî
      ƒë∆∞·ª£c AI ki·∫øn t·∫°o th√†nh t√°c ph·∫©m ngh·ªá thu·∫≠t tinh th·ªÉ s·ªØa l·ªông l·∫´y, mang d·∫•u ·∫•n ch·ªâ b·∫°n m·ªõi c√≥.
    </p>
    <div class="hero-actions">
      <a href="#redeem" class="btn-primary">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
        ƒê√∫c tinh th·ªÉ ngay
      </a>
      <a href="#about" class="btn-secondary">T√¨m hi·ªÉu th√™m</a>
    </div>
  </div>

  <!-- Floating crystal -->
  <div class="hero-crystal">
    <svg viewBox="0 0 200 280" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="cg1" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#D6EEFA" stop-opacity="0.95"/>
          <stop offset="50%" stop-color="#0072CE" stop-opacity="0.85"/>
          <stop offset="100%" stop-color="#002B5C" stop-opacity="0.98"/>
        </linearGradient>
        <linearGradient id="cg2" x1="100%" y1="0%" x2="0%" y2="100%">
          <stop offset="0%" stop-color="#A8D8F0" stop-opacity="0.75"/>
          <stop offset="100%" stop-color="#0057A8" stop-opacity="0.92"/>
        </linearGradient>
      </defs>
      <polygon points="100,10 160,60 180,140 100,270 20,140 40,60" fill="url(#cg1)" opacity="0.92"/>
      <polygon points="100,10 160,60 100,100" fill="#D6EEFA" opacity="0.45"/>
      <polygon points="100,10 40,60 100,100"  fill="#A8D8F0" opacity="0.35"/>
      <polygon points="160,60 180,140 100,100" fill="url(#cg2)" opacity="0.72"/>
      <polygon points="40,60 20,140 100,100"  fill="#0057A8" opacity="0.6"/>
      <polygon points="180,140 100,270 100,100" fill="#002B5C" opacity="0.82"/>
      <polygon points="20,140 100,270 100,100"  fill="#0072CE" opacity="0.42"/>
      <line x1="100" y1="10" x2="100" y2="270" stroke="rgba(255,255,255,0.12)" stroke-width="0.6"/>
      <ellipse cx="100" cy="54" rx="22" ry="8" fill="white" opacity="0.2"/>
    </svg>
  </div>
</section>

<!-- ABOUT -->
<section class="about" id="about">
  <div class="about-grid">
    <div class="about-visual">
      <div class="dna-visual">
        <div class="dna-ring"></div>
        <div class="dna-ring"></div>
        <div class="dna-ring"></div>
        <div class="dna-center">DNA</div>
        <div class="orbit-dot"></div>
        <div class="orbit-dot"></div>
        <div class="orbit-dot"></div>
      </div>
    </div>

    <div class="about-text reveal">
      <div class="section-label">V·ªÅ chi·∫øn d·ªãch</div>
      <h2>Khoa h·ªçc ¬∑ Ngh·ªá thu·∫≠t ¬∑<br><em>C√° nh√¢n h√≥a c·ª±c h·∫°n</em></h2>
      <p>
        <strong>TH True DNA</strong> l·∫•y c·∫£m h·ª©ng t·ª´ s·ª± thu·∫ßn khi·∫øt c·ªßa gi·ªçt s·ªØa "Th·∫≠t" ‚Äî bi·∫øn m·ªói m√£ s·ªë th·∫ª c√†o d∆∞·ªõi l·ªëc s·ªØa TH th√†nh m·ªôt <strong>"h·∫°t gi·ªëng s·ªë"</strong> (Seed) ƒë·ªôc nh·∫•t v√¥ nh·ªã.
      </p>
      <p>
        Thay v√¨ nh·ªØng ph·∫ßn qu√† v·∫≠t ch·∫•t th√¥ng th∆∞·ªùng, ch√∫ng t√¥i t·∫∑ng cho m·ªói kh√°ch h√†ng m·ªôt <strong>t√°c ph·∫©m ngh·ªá thu·∫≠t tinh th·ªÉ s·ªØa</strong> ƒë∆∞·ª£c ki·∫øn t·∫°o b·ªüi tr√≠ tu·ªá nh√¢n t·∫°o ‚Äî s·ª± k·∫øt h·ª£p ho√†n h·∫£o gi·ªØa khoa h·ªçc, ngh·ªá thu·∫≠t v√† c√° nh√¢n h√≥a trong k·ª∑ nguy√™n s·ªë.
      </p>
      <div class="about-tags">
        <span class="tag">AI Generated Art</span>
        <span class="tag">Unique Seed</span>
        <span class="tag">Digital Collectible</span>
        <span class="tag">TH True Milk</span>
      </div>
    </div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section class="how" id="how">
  <div class="how-inner">
    <div class="how-header reveal">
      <div class="section-label" style="justify-content:center;">
        <span style="width:32px;height:1px;background:var(--sky);display:inline-block;"></span>
        C√°ch th·ª©c
      </div>
      <h2>H√†nh Tr√¨nh <em>ƒê√∫c Tinh Th·ªÉ</em></h2>
      <p>4 b∆∞·ªõc ƒë∆°n gi·∫£n ƒë·ªÉ s·ªü h·ªØu t√°c ph·∫©m ngh·ªá thu·∫≠t s·ªë ƒë·ªôc b·∫£n c·ªßa ri√™ng b·∫°n</p>
    </div>

    <div class="steps reveal">
      <div class="step">
        <div class="step-num">01</div>
        <svg class="step-icon" viewBox="0 0 48 48" fill="none">
          <rect x="8" y="6" width="32" height="36" rx="2" stroke="#A8D8F0" stroke-width="1.5"/>
          <rect x="14" y="26" width="20" height="10" rx="1" stroke="#A8D8F0" stroke-width="1.5"/>
          <circle cx="24" cy="17" r="5" stroke="#0072CE" stroke-width="1.5"/>
        </svg>
        <h3>Mua l·ªëc s·ªØa TH</h3>
        <p>M·ªói l·ªëc s·ªØa TH True Milk ƒë·ªÅu ch·ª©a m·ªôt m√£ s·ªë ƒë·ªãnh danh duy nh·∫•t b√™n d∆∞·ªõi.</p>
      </div>
      <div class="step">
        <div class="step-num">02</div>
        <svg class="step-icon" viewBox="0 0 48 48" fill="none">
          <rect x="6" y="6" width="16" height="16" rx="2" stroke="#A8D8F0" stroke-width="1.5"/>
          <rect x="26" y="6" width="16" height="16" rx="2" stroke="#A8D8F0" stroke-width="1.5"/>
          <rect x="6" y="26" width="16" height="16" rx="2" stroke="#A8D8F0" stroke-width="1.5"/>
          <rect x="30" y="30" width="8" height="8" rx="1" fill="#A8D8F0" opacity="0.45"/>
          <rect x="10" y="10" width="8" height="8" rx="1" fill="#0072CE" opacity="0.4"/>
          <rect x="30" y="10" width="8" height="8" rx="1" fill="#0072CE" opacity="0.4"/>
          <rect x="10" y="30" width="8" height="8" rx="1" fill="#0072CE" opacity="0.4"/>
        </svg>
        <h3>Qu√©t m√£ QR</h3>
        <p>Qu√©t QR tr√™n bao b√¨, b·∫°n ƒë∆∞·ª£c d·∫´n ƒë·∫øn "X∆∞·ªüng ƒë√∫c tinh th·ªÉ" c·ªßa chi·∫øn d·ªãch.</p>
      </div>
      <div class="step">
        <div class="step-num">03</div>
        <svg class="step-icon" viewBox="0 0 48 48" fill="none">
          <rect x="8" y="14" width="32" height="24" rx="2" stroke="#A8D8F0" stroke-width="1.5"/>
          <path d="M16 26h4M22 22h4M28 26h4" stroke="#0072CE" stroke-width="2" stroke-linecap="round"/>
          <path d="M24 10v4" stroke="#A8D8F0" stroke-width="1.5"/>
        </svg>
        <h3>Nh·∫≠p m√£ th·∫ª c√†o</h3>
        <p>Ch·ªâ c·∫ßn nh·∫≠p d√£y s·ªë m√£ th·∫ª c√†o ‚Äî ƒë√¢y ch√≠nh l√† "h·∫°t gi·ªëng" t·∫°o n√™n tinh th·ªÉ c·ªßa b·∫°n.</p>
      </div>
      <div class="step">
        <div class="step-num">04</div>
        <svg class="step-icon" viewBox="0 0 48 48" fill="none">
          <polygon points="24,4 38,16 42,30 24,44 6,30 10,16" stroke="#C9A84C" stroke-width="1.5" fill="none"/>
          <polygon points="24,4 38,16 24,22" fill="#E8C97A" opacity="0.3"/>
          <polygon points="24,4 10,16 24,22" fill="#C9A84C" opacity="0.3"/>
          <line x1="24" y1="4" x2="24" y2="44" stroke="rgba(201,168,76,0.3)" stroke-width="0.8"/>
        </svg>
        <h3>Nh·∫≠n tinh th·ªÉ ƒë·ªôc b·∫£n</h3>
        <p>AI ph√¢n t√≠ch d√£y s·ªë v√† "ƒë√∫c" ngay t√°c ph·∫©m tinh th·ªÉ s·ªØa l·ªông l·∫´y ch·ªâ d√†nh ri√™ng cho b·∫°n.</p>
      </div>
    </div>
  </div>
</section>

<!-- AI MECHANISM -->
<section class="ai-mechanism" id="ai-mechanism">
  <div class="ai-inner">

    <div class="ai-header reveal">
      <div class="section-label" style="justify-content:center;">
        <span style="width:32px;height:1px;background:var(--sky);display:inline-block;"></span>
        C∆° ch·∫ø c√¥ng ngh·ªá
      </div>
      <h2>AI T·∫°o Tinh Th·ªÉ <em>Nh∆∞ Th·∫ø N√†o?</em></h2>
      <p>M√£ th·∫ª c√†o c·ªßa b·∫°n tr·ªü th√†nh "ch√¨a kh√≥a to√°n h·ªçc" ‚Äî m·ªü ra ƒë√∫ng m·ªôt c√°nh c·ª≠a trong 18 t·ª∑ t·ª∑ kh·∫£ nƒÉng m√† AI c√≥ th·ªÉ t·∫°o ra.</p>
    </div>

    <!-- Pipeline -->
    <div class="pipeline reveal">

      <div class="pipeline-node">
        <div class="node-icon">
          <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
            <rect x="4" y="6" width="28" height="24" rx="2" stroke="#A8D8F0" stroke-width="1.2"/>
            <rect x="10" y="16" width="16" height="8" rx="1" stroke="#A8D8F0" stroke-width="1"/>
            <circle cx="18" cy="12" r="3.5" stroke="#0072CE" stroke-width="1.2"/>
          </svg>
        </div>
        <div class="node-label">B∆∞·ªõc 1</div>
        <div class="node-title">Nh·∫≠p m√£ th·∫ª c√†o</div>
        <div class="node-desc">D√£y s·ªë ƒë·ªôc nh·∫•t d∆∞·ªõi l·ªëc s·ªØa TH ƒë∆∞·ª£c g·ª≠i l√™n h·ªá th·ªëng.</div>
        <div class="node-code">TH-2026-48291037</div>
      </div>

      <div class="pipeline-node">
        <div class="node-icon">
          <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
            <circle cx="18" cy="18" r="12" stroke="#A8D8F0" stroke-width="1.2" stroke-dasharray="3 2"/>
            <path d="M12 18h4M20 18h4M18 12v4M18 20v4" stroke="#0072CE" stroke-width="1.5" stroke-linecap="round"/>
            <circle cx="18" cy="18" r="3" fill="#A8D8F0" opacity=".5"/>
          </svg>
        </div>
        <div class="node-label">B∆∞·ªõc 2</div>
        <div class="node-title">T·ªïng h·ª£p Seed</div>
        <div class="node-desc">H·ªá th·ªëng k·∫øt h·ª£p m√£ s·ªë + th·ªùi ƒëi·ªÉm nh·∫≠p + metadata th√†nh m·ªôt Seed duy nh·∫•t.</div>
        <div class="node-code">
          m√£ + 14:23:07<br>
          + #device_hash<br>
          ‚Üí <span style="color:var(--gold-light)">Seed: 8472910384</span>
        </div>
      </div>

      <div class="pipeline-node">
        <div class="node-icon">
          <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
            <rect x="6" y="6" width="10" height="10" rx="1" stroke="#A8D8F0" stroke-width="1"/>
            <rect x="20" y="6" width="10" height="10" rx="1" stroke="#A8D8F0" stroke-width="1"/>
            <rect x="6" y="20" width="10" height="10" rx="1" stroke="#A8D8F0" stroke-width="1"/>
            <rect x="20" y="20" width="10" height="10" rx="1" stroke="#0072CE" stroke-width="1.5"/>
            <path d="M17 11h2M17 25h2M11 17v2M25 17v2" stroke="#A8D8F0" stroke-width="1" opacity=".5"/>
          </svg>
        </div>
        <div class="node-label">B∆∞·ªõc 3</div>
        <div class="node-title">AI nh·∫≠n Seed</div>
        <div class="node-desc">Stable Diffusion nh·∫≠n Seed + prompt c·ªë ƒë·ªãnh ‚Äî Seed ƒëi·ªÅu khi·ªÉn to√†n b·ªô qu√° tr√¨nh sinh ·∫£nh.</div>
        <div class="node-code">
          seed = 8472910384<br>
          prompt = "milk crystal,<br>
          &nbsp;iridescent, macro..."
        </div>
      </div>

      <div class="pipeline-node">
        <div class="node-icon">
          <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
            <polygon points="18,3 30,11 30,25 18,33 6,25 6,11" stroke="#C9A84C" stroke-width="1.2" fill="none"/>
            <polygon points="18,3 30,11 18,16" fill="#E8C97A" opacity=".35"/>
            <polygon points="18,3 6,11 18,16"  fill="#C9A84C" opacity=".3"/>
            <ellipse cx="18" cy="10" rx="6" ry="2.5" fill="white" opacity=".15"/>
          </svg>
        </div>
        <div class="node-label">K·∫øt qu·∫£</div>
        <div class="node-title">Tinh th·ªÉ ƒë·ªôc b·∫£n</div>
        <div class="node-desc">M·ªôt t√°c ph·∫©m ngh·ªá thu·∫≠t ra ƒë·ªùi ‚Äî kh√¥ng th·ªÉ tr√πng l·∫∑p v√¨ Seed c·ªßa b·∫°n l√† duy nh·∫•t.</div>
        <div class="node-code" style="color:var(--gold-light)">
          ‚ú¶ 18 t·ª∑ t·ª∑ kh·∫£ nƒÉng<br>
          ‚ú¶ Ch·ªâ 1 k·∫øt qu·∫£ cho b·∫°n
        </div>
      </div>

    </div>

    <!-- Personalization breakdown -->
    <div class="personalization reveal">

      <div class="pers-left">
        <h3>Seed Gi·∫£i M√£ Th√†nh<br><em>C√¢u Chuy·ªán C·ªßa B·∫°n</em></h3>
        <p>Seed kh√¥ng ch·ªâ t·∫°o ra s·ª± ng·∫´u nhi√™n ‚Äî m·ªói ph·∫ßn trong d√£y s·ªë ƒë∆∞·ª£c ph√¢n t√≠ch v√† √°nh x·∫° th√†nh c√°c thu·ªôc t√≠nh th·ªã gi√°c c·ª• th·ªÉ c·ªßa tinh th·ªÉ.</p>

        <div class="seed-breakdown">
          <div class="seed-row">
            <span class="seed-key">M√£ th·∫ª c√†o</span>
            <span class="seed-val"><span>TH-2026-48291037</span></span>
          </div>
          <div class="seed-row">
            <span class="seed-key">Th·ªùi ƒëi·ªÉm nh·∫≠p</span>
            <span class="seed-val"><span>14:23:07 / 28-02-2026</span></span>
          </div>
          <div class="seed-row">
            <span class="seed-key">Device hash</span>
            <span class="seed-val"><span>#A3F9C2</span></span>
          </div>
          <div class="seed-row">
            <span class="seed-key">S·ªë th·ª© t·ª±</span>
            <span class="seed-val"><span>#000412</span></span>
          </div>
          <div class="seed-row" style="margin-top:4px;">
            <span class="seed-key" style="color:var(--gold-light)">Final Seed</span>
            <span class="seed-val" style="color:var(--gold-light); font-size:.75rem;">8472910384029820264</span>
          </div>
        </div>
      </div>

      <div class="pers-right">
        <div class="pers-card">
          <div class="pers-card-icon">üî∑</div>
          <div class="pers-card-body">
            <div class="pers-card-title">S·ªë l·∫ª / ch·∫µn trong m√£</div>
            <div class="pers-card-desc">Quy·∫øt ƒë·ªãnh h√¨nh d·∫°ng tinh th·ªÉ ‚Äî s·ªë l·∫ª t·∫°o g√≥c nh·ªçn s·∫Øc s·∫£o, s·ªë ch·∫µn t·∫°o ƒë∆∞·ªùng cong m·ªÅm m·∫°i.</div>
          </div>
          <div class="pers-card-result">H√¨nh d·∫°ng ‚Üí</div>
        </div>

        <div class="pers-card">
          <div class="pers-card-icon">üåà</div>
          <div class="pers-card-body">
            <div class="pers-card-title">T·ªïng c√°c ch·ªØ s·ªë</div>
            <div class="pers-card-desc">X√°c ƒë·ªãnh t√¥ng m√†u ch·ªß ƒë·∫°o ‚Äî t·ªïng nh·ªè ra t√¥ng l·∫°nh (xanh bƒÉng), t·ªïng l·ªõn ra t√¥ng ·∫•m (v√†ng h·ªï ph√°ch).</div>
          </div>
          <div class="pers-card-result">M√†u s·∫Øc ‚Üí</div>
        </div>

        <div class="pers-card">
          <div class="pers-card-icon">üíé</div>
          <div class="pers-card-body">
            <div class="pers-card-title">K√Ω t·ª± ƒë·∫ßu m√£</div>
            <div class="pers-card-desc">Ph√¢n lo·∫°i nh√≥m tinh th·ªÉ ‚Äî Pha L√™, H∆∞·ªõng D∆∞∆°ng, ƒê·∫°i D∆∞∆°ng, San H√¥ hay Th·∫°ch Anh H·ªìng.</div>
          </div>
          <div class="pers-card-result">Lo·∫°i tinh th·ªÉ ‚Üí</div>
        </div>

        <div class="pers-card">
          <div class="pers-card-icon">üïê</div>
          <div class="pers-card-body">
            <div class="pers-card-title">Th·ªùi ƒëi·ªÉm nh·∫≠p m√£</div>
            <div class="pers-card-desc">·∫¢nh h∆∞·ªüng ƒë·∫øn ƒë·ªô s√°ng t·ªëi ‚Äî nh·∫≠p l√∫c b√¨nh minh cho tinh th·ªÉ r·ª±c r·ª°, n·ª≠a ƒë√™m cho tinh th·ªÉ huy·ªÅn b√≠.</div>
          </div>
          <div class="pers-card-result">√Ånh s√°ng ‚Üí</div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- CRYSTALS -->
<section class="crystals" id="crystals">
  <div class="crystals-inner">
    <div class="crystals-header reveal">
      <div>
        <div class="section-label">B·ªô s∆∞u t·∫≠p</div>
        <h2>Nh·ªØng Tinh Th·ªÉ<br><em>L·ªông L·∫´y</em> Ch·ªù B·∫°n</h2>
      </div>
      <p>M·ªói tinh th·ªÉ mang m√†u s·∫Øc v√† √Ω nghƒ©a ri√™ng bi·ªát, ƒë∆∞·ª£c sinh ra t·ª´ ch√≠nh d√£y s·ªë ƒë·ªôc nh·∫•t c·ªßa b·∫°n. Kh√¥ng ai c√≥ tinh th·ªÉ gi·ªëng ai.</p>
    </div>

    <div class="crystal-grid reveal">

      <div class="crystal-card">
        <div class="crystal-card-bg pure"></div>
        <div class="crystal-inner-shape">
          <svg viewBox="0 0 120 160" fill="none">
            <polygon points="60,10 95,50 60,140 25,50" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.8)" stroke-width="0.8"/>
            <polygon points="60,10 95,50 60,65" fill="rgba(255,255,255,0.6)"/>
            <polygon points="60,10 25,50 60,65" fill="rgba(168,216,240,0.5)"/>
            <polygon points="95,50 60,140 60,65" fill="rgba(168,216,240,0.3)"/>
            <polygon points="25,50 60,140 60,65" fill="rgba(255,255,255,0.2)"/>
            <polygon points="45,35 75,35 60,65" fill="rgba(255,255,255,0.8)"/>
          </svg>
        </div>
        <div class="crystal-badge">Pha L√™</div>
        <div class="crystal-overlay">
          <div class="crystal-name">Tinh Th·ªÉ Thu·∫ßn Khi·∫øt</div>
          <div class="crystal-desc">Trong su·ªët nh∆∞ gi·ªçt s·ªØa ƒë·∫ßu ti√™n ‚Äî bi·ªÉu t∆∞·ª£ng c·ªßa s·ª± tinh khi·∫øt v√† ch√¢n th·∫≠t t·ª± nhi√™n.</div>
        </div>
      </div>

      <div class="crystal-card">
        <div class="crystal-card-bg sunflower"></div>
        <div class="crystal-inner-shape">
          <svg viewBox="0 0 120 160" fill="none">
            <polygon points="60,40 100,20 70,60" fill="rgba(255,240,120,0.5)"/>
            <polygon points="60,40 20,20 50,60" fill="rgba(255,200,60,0.4)"/>
            <polygon points="70,60 110,80 70,100" fill="rgba(255,220,60,0.6)"/>
            <polygon points="50,60 10,80 50,100" fill="rgba(255,255,150,0.5)"/>
            <polygon points="60,10 85,80 60,150 35,80" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.7)" stroke-width="0.8"/>
            <polygon points="60,10 85,80 60,80" fill="rgba(255,220,60,0.7)"/>
            <polygon points="60,10 35,80 60,80" fill="rgba(255,250,180,0.6)"/>
            <polygon points="85,80 60,150 60,80" fill="rgba(255,180,40,0.4)"/>
            <polygon points="35,80 60,150 60,80" fill="rgba(255,220,60,0.3)"/>
          </svg>
        </div>
        <div class="crystal-badge">H∆∞·ªõng D∆∞∆°ng</div>
        <div class="crystal-overlay">
          <div class="crystal-name">Tinh Th·ªÉ NƒÉng L∆∞·ª£ng</div>
          <div class="crystal-desc">T·ªèa s√°ng nh∆∞ √°nh b√¨nh minh ‚Äî d√†nh cho nh·ªØng t√¢m h·ªìn r·ª±c r·ª° v√† tr√†n ƒë·∫ßy s·ª©c s·ªëng.</div>
        </div>
      </div>

      <div class="crystal-card">
        <div class="crystal-card-bg emerald"></div>
        <div class="crystal-inner-shape">
          <svg viewBox="0 0 120 160" fill="none">
            <polygon points="30,60 50,45 50,120 30,100" fill="rgba(100,200,180,0.4)" stroke="rgba(255,255,255,0.5)" stroke-width="0.5"/>
            <polygon points="30,60 40,50 50,45" fill="rgba(255,255,255,0.6)"/>
            <polygon points="70,55 90,70 90,130 70,110" fill="rgba(30,150,130,0.5)" stroke="rgba(255,255,255,0.4)" stroke-width="0.5"/>
            <polygon points="70,55 80,45 90,70" fill="rgba(150,230,210,0.5)"/>
            <polygon points="50,20 75,35 75,140 50,120" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.8)" stroke-width="0.8"/>
            <polygon points="50,20 62,10 75,35" fill="rgba(200,255,240,0.7)"/>
            <polygon points="50,20 62,140 50,120" fill="rgba(100,220,190,0.4)"/>
            <polygon points="75,35 62,140 75,140" fill="rgba(40,160,140,0.6)"/>
          </svg>
        </div>
        <div class="crystal-badge">ƒê·∫°i D∆∞∆°ng</div>
        <div class="crystal-overlay">
          <div class="crystal-name">Tinh Th·ªÉ L·ª•c B·∫£o</div>
          <div class="crystal-desc">Xanh m√°t v√† s√¢u th·∫≥m ‚Äî bi·ªÉu t∆∞·ª£ng c·ªßa s·ª± tƒ©nh l·∫∑ng, mang h∆°i th·ªü c·ªßa d√≤ng su·ªëi t·ª± nhi√™n.</div>
        </div>
      </div>

      <div class="crystal-card">
        <div class="crystal-card-bg coral"></div>
        <div class="crystal-inner-shape">
          <svg viewBox="0 0 120 160" fill="none">
            <polygon points="40,110 20,60 35,70" fill="rgba(255,160,140,0.6)" stroke="rgba(255,255,255,0.5)" stroke-width="0.5"/>
            <polygon points="80,120 105,50 90,65" fill="rgba(255,100,80,0.5)" stroke="rgba(255,255,255,0.4)" stroke-width="0.5"/>
            <path d="M50,140 L45,60 L60,20 L75,70 L70,140 Z" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.8)" stroke-width="0.8"/>
            <polygon points="45,60 60,20 60,140" fill="rgba(255,180,160,0.7)"/>
            <polygon points="75,70 60,20 60,140" fill="rgba(220,80,60,0.5)"/>
            <polygon points="45,60 60,50 75,70" fill="rgba(255,255,255,0.4)"/>
          </svg>
        </div>
        <div class="crystal-badge">San H√¥</div>
        <div class="crystal-overlay">
          <div class="crystal-name">Tinh Th·ªÉ Nhi·ªát Huy·∫øt</div>
          <div class="crystal-desc">T·ª± do v∆∞∆°n m√¨nh r·∫Ω nh√°nh ‚Äî t∆∞·ª£ng tr∆∞ng cho s·ª± s√°ng t·∫°o v√¥ h·∫°n v√† ƒëam m√™ b√πng ch√°y.</div>
        </div>
      </div>

      <div class="crystal-card">
        <div class="crystal-card-bg rosequartz"></div>
        <div class="crystal-inner-shape">
          <svg viewBox="0 0 120 160" fill="none">
            <polygon points="70,40 100,55 100,95 70,110 40,95 40,55" fill="rgba(240,120,150,0.3)" stroke="rgba(255,255,255,0.3)" stroke-width="0.5"/>
            <polygon points="70,40 100,55 70,75 40,55" fill="rgba(255,180,200,0.4)"/>
            <polygon points="50,60 85,80 85,130 50,150 15,130 15,80" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.8)" stroke-width="0.8"/>
            <polygon points="50,60 85,80 50,100 15,80" fill="rgba(255,230,235,0.8)"/>
            <polygon points="15,80 50,100 50,150 15,130" fill="rgba(255,160,180,0.6)"/>
            <polygon points="85,80 50,100 50,150 85,130" fill="rgba(200,80,110,0.4)"/>
          </svg>
        </div>
        <div class="crystal-badge">Th·∫°ch Anh H·ªìng</div>
        <div class="crystal-overlay">
          <div class="crystal-name">Tinh Th·ªÉ Ch·ªØa L√†nh</div>
          <div class="crystal-desc">M·ªÅm m·∫°i v√† ·∫•m √°p ‚Äî mang nƒÉng l∆∞·ª£ng c·ªßa s·ª± th·∫•u c·∫£m, d·ªãu d√†ng n√¢ng niu c·∫£m x√∫c.</div>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- REDEEM / CRYSTAL GENERATOR -->
<section class="input-section" id="redeem" style="padding:120px 60px;">
  <div style="max-width:900px;margin:0 auto;text-align:center;">

    <div class="section-label" style="justify-content:center;">
      <span style="width:32px;height:1px;background:var(--sky);display:inline-block;"></span>
      X∆∞·ªüng ƒë√∫c tinh th·ªÉ
    </div>

    <h2 class="reveal" style="font-family:'Cormorant Garamond',serif;font-size:clamp(2.4rem,5vw,3.8rem);font-weight:300;color:var(--cream);margin-bottom:14px;line-height:1.1;">
      Nh·∫≠p M√£ ‚Äî <em style="color:var(--sky);font-style:italic;">ƒê√∫c Ngay</em><br>Tinh Th·ªÉ C·ªßa B·∫°n
    </h2>
    <p class="reveal" style="color:rgba(255,255,255,.48);margin-bottom:40px;line-height:1.75;">
      D√£y s·ªë th·∫ª c√†o l√† "h·∫°t gi·ªëng" ‚Äî h·ªá th·ªëng s·∫Ω ki·∫øn t·∫°o tinh th·ªÉ ƒë·ªôc b·∫£n<br>ch·ªâ d√†nh ri√™ng cho b·∫°n, ngay tr√™n tr√¨nh duy·ªát.
    </p>

    <!-- Input row -->
    <div class="reveal" style="display:flex;gap:0;max-width:600px;margin:0 auto 40px;">
      <input id="codeInput" type="text" placeholder="Nh·∫≠p m√£ th·∫ª c√†o (VD: TH-2026-XXXXXXXX)" maxlength="24"
        style="flex:1;background:rgba(255,255,255,.04);border:1px solid rgba(0,114,206,.35);border-right:none;
               padding:16px 20px;color:#fff;font-family:'DM Sans',sans-serif;font-size:.95rem;
               letter-spacing:.1em;outline:none;transition:border-color .3s;"
        onfocus="this.style.borderColor='rgba(168,216,240,.7)'"
        onblur="this.style.borderColor='rgba(0,114,206,.35)'"
      />
      <button id="codeSubmit" onclick="generateCrystal()"
        style="padding:16px 28px;background:linear-gradient(135deg,var(--navy),var(--blue-bright));
               border:1px solid var(--blue-bright);border-left:none;color:#fff;
               font-family:'DM Sans',sans-serif;font-size:.82rem;font-weight:500;
               letter-spacing:.12em;text-transform:uppercase;cursor:pointer;
               white-space:nowrap;transition:all .3s;">
        ƒê√∫c Tinh Th·ªÉ ‚ú¶
      </button>
    </div>

    <!-- Crystal output -->
    <div id="crystalOutput" style="display:none;animation:fadeUp .6s ease both;">
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:40px;align-items:start;text-align:left;
                  border:1px solid rgba(0,114,206,.2);padding:40px;background:rgba(0,43,92,.3);">

        <!-- Canvas -->
        <div style="text-align:center;">
          <canvas id="crystalCanvas2" width="360" height="400"
            style="width:100%;border:1px solid rgba(168,216,240,.12);"></canvas>
          <button onclick="downloadCrystal()"
            style="margin-top:16px;padding:12px 28px;background:transparent;
                   border:1px solid rgba(168,216,240,.4);color:var(--sky);
                   font-family:'DM Sans',sans-serif;font-size:.78rem;letter-spacing:.12em;
                   text-transform:uppercase;cursor:pointer;transition:all .3s;width:100%;"
            onmouseover="this.style.background='rgba(0,114,206,.2)'"
            onmouseout="this.style.background='transparent'">
            ‚Üì L∆∞u Tinh Th·ªÉ
          </button>
        </div>

        <!-- Info -->
        <div>
          <div style="font-size:.65rem;letter-spacing:.22em;text-transform:uppercase;color:var(--sky);
                      margin-bottom:12px;opacity:.7;">Tinh th·ªÉ c·ªßa b·∫°n</div>
          <div id="crystalName" style="font-family:'Cormorant Garamond',serif;font-size:2rem;
               font-weight:300;color:var(--cream);margin-bottom:6px;"></div>
          <div id="crystalType" style="font-size:.8rem;color:var(--sky);letter-spacing:.1em;
               text-transform:uppercase;margin-bottom:24px;opacity:.8;"></div>
          <div id="crystalMeaning" style="font-size:.9rem;color:rgba(255,255,255,.6);
               line-height:1.8;margin-bottom:28px;"></div>

          <!-- Attributes -->
          <div id="crystalAttrs" style="display:flex;flex-direction:column;gap:10px;"></div>

          <!-- Seed display -->
          <div id="crystalSeedBox" style="margin-top:24px;padding:14px 16px;
               background:rgba(0,0,0,.3);border-left:2px solid rgba(168,216,240,.4);
               font-family:'Courier New',monospace;font-size:.72rem;color:rgba(255,255,255,.4);"></div>
        </div>

      </div>
    </div>

    <p class="reveal" style="margin-top:20px;font-size:.76rem;color:rgba(255,255,255,.25);letter-spacing:.05em;">
    </p>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="footer-brand">TH <em>true MILK</em> √ó True DNA</div>
  <div class="footer-copy">¬© 2026 TH True Milk. All rights reserved.</div>
</footer>

<script>
  /* ‚îÄ‚îÄ CANVAS PARTICLES (background) ‚îÄ‚îÄ */
  const canvas = document.getElementById('crystalCanvas');
  const ctx    = canvas.getContext('2d');
  function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
  resize(); window.addEventListener('resize', resize);
  class Particle {
    constructor() { this.reset(); }
    reset() {
      this.x=Math.random()*canvas.width; this.y=Math.random()*canvas.height;
      this.size=Math.random()*1.8+.4; this.vx=(Math.random()-.5)*.3;
      this.vy=-Math.random()*.38-.08; this.alpha=Math.random()*.55+.1;
      this.life=0; this.maxLife=Math.random()*200+100;
      const r=Math.random();
      this.color=r>.65?`rgba(168,216,240,${this.alpha})`:r>.35?`rgba(0,114,206,${this.alpha})`:`rgba(201,168,76,${this.alpha})`;
      this.diamond=Math.random()>.82;
    }
    update(){ this.x+=this.vx; this.y+=this.vy; this.life++; if(this.life>this.maxLife||this.y<-10)this.reset(); }
    draw(){
      ctx.save(); ctx.globalAlpha=this.alpha*(1-this.life/this.maxLife); ctx.fillStyle=this.color;
      if(this.diamond){ const s=this.size*2.2; ctx.beginPath(); ctx.moveTo(this.x,this.y-s); ctx.lineTo(this.x+s*.55,this.y); ctx.lineTo(this.x,this.y+s); ctx.lineTo(this.x-s*.55,this.y); ctx.closePath(); ctx.fill(); }
      else { ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fill(); }
      ctx.restore();
    }
  }
  const particles = Array.from({length:90},()=>new Particle());
  (function loop(){ ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{p.update();p.draw();}); requestAnimationFrame(loop); })();

  /* ‚îÄ‚îÄ SCROLL REVEAL ‚îÄ‚îÄ */
  const obs = new IntersectionObserver((entries)=>{
    entries.forEach((e,i)=>{ if(e.isIntersecting) setTimeout(()=>e.target.classList.add('visible'),i*80); });
  },{threshold:.1});
  document.querySelectorAll('.reveal').forEach(r=>obs.observe(r));


  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       CRYSTAL ENGINE v8 ‚Äî Gemstone Artistic Renderer
       K·ªπ thu·∫≠t: multi-layer gradient ¬∑ caustic light ¬∑
       bezier curves ¬∑ subsurface glow ¬∑ specular bloom
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

  function seededRNG(seed) {
    let s = seed >>> 0;
    return () => {
      s += 0x6D2B79F5;
      let t = Math.imul(s ^ s>>>15, 1 | s);
      t = t + Math.imul(t ^ t>>>7, 61 | t) ^ t;
      return ((t ^ t>>>14) >>> 0) / 4294967296;
    };
  }
  function hashCode(str) {
    let h = 2166136261;
    for (let i = 0; i < str.length; i++) { h ^= str.charCodeAt(i); h = Math.imul(h, 16777619); }
    return h >>> 0;
  }

  /* ‚îÄ‚îÄ Shared rendering helpers ‚îÄ‚îÄ */

  // Draw a filled polygon
  function fillPoly(c, pts, style) {
    c.beginPath(); c.moveTo(pts[0][0], pts[0][1]);
    pts.slice(1).forEach(p => c.lineTo(p[0], p[1]));
    c.closePath(); c.fillStyle = style; c.fill();
  }
  // Draw a stroked polygon
  function strokePoly(c, pts, style, lw=1) {
    c.beginPath(); c.moveTo(pts[0][0], pts[0][1]);
    pts.slice(1).forEach(p => c.lineTo(p[0], p[1]));
    c.closePath(); c.strokeStyle = style; c.lineWidth = lw; c.stroke();
  }

  // Radial glow blob
  function glow(c, x, y, r, color, a=0.18) {
    const g = c.createRadialGradient(x, y, 0, x, y, r);
    g.addColorStop(0, color.replace(')',`,${a})`).replace('hsl','hsla'));
    g.addColorStop(1, 'transparent');
    c.fillStyle = g; c.fillRect(0, 0, c.canvas.width, c.canvas.height);
  }

  // 8-pointed star sparkle
  function star(c, x, y, r, color, alpha=0.9) {
    c.save(); c.globalAlpha = alpha;
    c.fillStyle = color;
    c.beginPath();
    for (let i = 0; i < 8; i++) {
      const a = i * Math.PI / 4;
      const len = i % 2 === 0 ? r : r * 0.35;
      i === 0 ? c.moveTo(x + len*Math.cos(a), y + len*Math.sin(a))
               : c.lineTo(x + len*Math.cos(a), y + len*Math.sin(a));
    }
    c.closePath(); c.fill(); c.restore();
  }

  // Soft specular highlight ellipse
  function specular(c, x, y, rx, ry, angle, alpha) {
    c.save(); c.globalAlpha = alpha;
    const g = c.createRadialGradient(x, y, 0, x, y, Math.max(rx, ry));
    g.addColorStop(0, 'rgba(255,255,255,1)');
    g.addColorStop(0.4, 'rgba(255,255,255,0.4)');
    g.addColorStop(1, 'transparent');
    c.fillStyle = g;
    c.beginPath(); c.ellipse(x, y, rx, ry, angle, 0, Math.PI*2); c.fill();
    c.restore();
  }

  // Dark vignette around edges
  function vignette(c, W, H) {
    const g = c.createRadialGradient(W/2, H/2, W*0.3, W/2, H/2, W*0.75);
    g.addColorStop(0, 'transparent'); g.addColorStop(1, 'rgba(0,0,0,0.45)');
    c.fillStyle = g; c.fillRect(0, 0, W, H);
  }

  // Background gradient
  function drawBg(c, W, H, h1, h2, s=50, l1=8, l2=3) {
    const bg = c.createLinearGradient(0, 0, W*0.3, H);
    bg.addColorStop(0, `hsl(${h1},${s}%,${l1}%)`);
    bg.addColorStop(0.5, `hsl(${(h1+h2)/2},${s-5}%,${l1-1}%)`);
    bg.addColorStop(1, `hsl(${h2},${s-10}%,${l2}%)`);
    c.fillStyle = bg; c.fillRect(0, 0, W, H);
  }

  // Caustic light pattern (refracted light patches on "floor")
  function caustics(c, cx, baseY, W, hue, rng, n=5) {
    for (let i = 0; i < n; i++) {
      const x = cx + (rng()-0.5)*W*0.55, y = baseY + rng()*W*0.12;
      const rx = W*(0.04+rng()*0.08), ry = W*(0.01+rng()*0.025);
      c.save(); c.globalAlpha = rng()*0.12+0.04;
      c.beginPath(); c.ellipse(x, y, rx, ry, rng()*0.6-0.3, 0, Math.PI*2);
      c.fillStyle = `hsl(${hue+rng()*30-15},80%,85%)`; c.fill(); c.restore();
    }
  }

  // Internal fracture lines
  function fractures(c, cx, top, bot, W, hue, rng, n=5) {
    for (let i = 0; i < n; i++) {
      const x = cx+(rng()-0.5)*W*0.32, y = top+rng()*(bot-top);
      const ex = x+(rng()-0.5)*W*0.28, ey = y+(rng()-0.5)*(bot-top)*0.4;
      c.save(); c.globalAlpha = rng()*0.1+0.03;
      c.beginPath(); c.moveTo(x,y); c.lineTo(ex,ey);
      c.strokeStyle = `hsl(${hue+20},70%,92%)`; c.lineWidth = 0.6; c.stroke(); c.restore();
    }
  }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     üí† CRYSTAL 1 ‚Äî PHA L√ä THU·∫¶N KHI·∫æT
     Visual: Classic brilliant diamond cut ‚Äî 8 sharp facets,
     icy blue-white, intense internal fire, very refractive.
     Meaning: Tinh khi·∫øt nh∆∞ gi·ªçt s·ªØa TH ƒë·∫ßu ti√™n
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  function drawPhaLe(c, W, H, rng) {
    const cx = W/2 + (rng()-0.5)*16;
    const hue = 200 + rng()*20, sh = rng()*0.3+0.6;
    drawBg(c, W, H, hue-10, hue+20, 55, 11, 3);

    // Deep glow pools
    glow(c, cx, H*0.42, W*0.55, `hsl(${hue},75%,80%)`, 0.14);
    glow(c, cx-W*0.1, H*0.3, W*0.3, `hsl(${hue+20},85%,95%)`, 0.1);

    // Key points
    const tip  = [cx, H*0.07];
    const base = [cx, H*0.91];
    const ml   = [cx - W*0.29, H*0.44 + rng()*H*0.05];
    const mr   = [cx + W*0.30, H*0.42 + rng()*H*0.04];
    const bl   = [cx - W*0.13, H*0.88];
    const br   = [cx + W*0.13, H*0.88];
    const tl   = [cx - W*0.09, H*0.16];
    const tr   = [cx + W*0.10, H*0.15];

    // === SHADOW ===
    c.save(); c.globalAlpha = 0.2;
    fillPoly(c, [tip, mr, br, base, bl, ml].map(([x,y])=>[x+7,y+5]), '#000');
    c.restore();

    // === FACETS (back to front, darkest first) ===
    // Lower-left dark face
    const f1g = c.createLinearGradient(ml[0], ml[1], bl[0], bl[1]);
    f1g.addColorStop(0, `hsla(${hue},60%,35%,0.92)`);
    f1g.addColorStop(1, `hsla(${hue},50%,18%,0.95)`);
    fillPoly(c, [ml, bl, base], f1g);

    // Lower-right face
    const f2g = c.createLinearGradient(mr[0], mr[1], br[0], br[1]);
    f2g.addColorStop(0, `hsla(${hue+15},55%,52%,0.88)`);
    f2g.addColorStop(1, `hsla(${hue},45%,28%,0.92)`);
    fillPoly(c, [mr, br, base], f2g);

    // Mid-left face
    const f3g = c.createLinearGradient(ml[0], H*0.3, ml[0], ml[1]);
    f3g.addColorStop(0, `hsla(${hue},70%,72%,0.82)`);
    f3g.addColorStop(0.5, `hsla(${hue+10},65%,55%,0.78)`);
    f3g.addColorStop(1, `hsla(${hue},55%,32%,0.88)`);
    fillPoly(c, [tl, ml, bl], f3g);

    // Mid-right face (brightest)
    const f4g = c.createLinearGradient(tr[0], H*0.2, mr[0], mr[1]);
    f4g.addColorStop(0, `hsla(${hue+20},50%,92%,0.9)`);
    f4g.addColorStop(0.3, `hsla(${hue+10},65%,78%,0.85)`);
    f4g.addColorStop(0.7, `hsla(${hue},60%,55%,0.82)`);
    f4g.addColorStop(1, `hsla(${hue},50%,35%,0.9)`);
    fillPoly(c, [tr, mr, br, tl], f4g); // approximate center

    // Upper-left face
    const f5g = c.createLinearGradient(tip[0], tip[1], tl[0], tl[1]);
    f5g.addColorStop(0, `hsla(${hue},45%,88%,0.8)`);
    f5g.addColorStop(1, `hsla(${hue},60%,65%,0.75)`);
    fillPoly(c, [tip, tl, ml], f5g);

    // Upper-right face (very bright)
    const f6g = c.createLinearGradient(tip[0], tip[1], tr[0], H*0.25);
    f6g.addColorStop(0, `hsla(${hue+10},30%,98%,${sh*0.9})`);
    f6g.addColorStop(0.4, `hsla(${hue+15},50%,85%,0.85)`);
    f6g.addColorStop(1, `hsla(${hue},55%,62%,0.8)`);
    fillPoly(c, [tip, tr, mr], f6g);

    // Top table face
    const tg = c.createRadialGradient(cx, H*0.12, 2, cx, H*0.16, W*0.12);
    tg.addColorStop(0, `rgba(255,255,255,${sh*0.7+0.2})`);
    tg.addColorStop(0.6, `hsla(${hue+10},50%,88%,0.5)`);
    tg.addColorStop(1, `hsla(${hue},60%,65%,0.3)`);
    fillPoly(c, [tip, tl, tr], tg);

    // === INTERNAL FIRE (colored light inside) ===
    [[hue-30, 0.38, 0.52], [hue+40, 0.55, 0.62], [hue+15, 0.45, 0.73]].forEach(([h, rx, ry]) => {
      c.save(); c.globalAlpha = 0.06;
      const ig = c.createRadialGradient(cx+(rng()-0.5)*W*0.1, H*ry, 0, cx, H*ry, W*rx);
      ig.addColorStop(0, `hsl(${h},90%,75%)`); ig.addColorStop(1, 'transparent');
      c.fillStyle = ig; c.fillRect(0,0,W,H); c.restore();
    });

    fractures(c, cx, H*0.15, H*0.88, W, hue, rng, 6);
    caustics(c, cx, H*0.88, W, hue, rng, 6);

    // === EDGES ===
    [[tip,tl,ml,bl,base,br,mr,tr],[tip,tl],[tip,tr],[ml,bl],[mr,br]].forEach(pts => {
      c.beginPath(); c.moveTo(pts[0][0],pts[0][1]);
      pts.slice(1).forEach(p=>c.lineTo(p[0],p[1])); c.closePath();
      c.strokeStyle = `hsla(${hue+10},50%,90%,0.22)`; c.lineWidth = 0.8; c.stroke();
    });

    // === SPECULAR HIGHLIGHTS ===
    specular(c, tip[0], tip[1]+H*0.04, W*0.05, H*0.02, -0.2, sh*0.8+0.1);
    specular(c, cx-W*0.05, H*0.22, W*0.04, H*0.015, 0.3, sh*0.5+0.1);

    // === SPARKLES ===
    vignette(c, W, H);
    star(c, tip[0]+1, tip[1]+H*0.02, W*0.04, 'rgba(255,255,255,0.95)', 0.9);
    star(c, cx+W*0.14, H*0.35, W*0.018, 'rgba(220,240,255,0.8)', 0.7);
    for(let i=0;i<14;i++) {
      const sx=W*0.1+rng()*W*0.8, sy=H*0.05+rng()*H*0.9, ss=rng()*2+0.3;
      c.save(); c.globalAlpha=rng()*0.5+0.1;
      c.fillStyle=`hsla(${hue+rng()*30},70%,96%,1)`;
      c.beginPath(); c.arc(sx,sy,ss,0,Math.PI*2); c.fill(); c.restore();
    }
  }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     üåü CRYSTAL 2 ‚Äî H∆Ø·ªöNG D∆Ø∆†NG NƒÇNG L∆Ø·ª¢NG
     Visual: Citrine cluster ‚Äî warm golden-amber prisms
     radiating from a glowing honey-colored base.
     Meaning: NƒÉng l∆∞·ª£ng t·ª´ ƒë·ªìng c·ªè Ba V√¨ d∆∞·ªõi n·∫Øng v√†ng
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  function drawHuongDuong(c, W, H, rng) {
    const cx = W/2 + (rng()-0.5)*18;
    const hue = 40 + rng()*15, sh = rng()*0.3+0.55;
    drawBg(c, W, H, hue-10, hue+15, 60, 10, 3);

    glow(c, cx, H*0.52, W*0.6, `hsl(${hue},90%,65%)`, 0.2);
    glow(c, cx, H*0.45, W*0.3, `hsl(${hue+15},95%,80%)`, 0.12);

    // 5 prisms arranged in a burst ‚Äî each slightly different
    const prisms = [
      { angle: -0.5,  cx: cx-W*0.12, top: H*0.08, h: H*0.62, w: W*0.13, bright: 0.08 },
      { angle:  0,    cx: cx,        top: H*0.04, h: H*0.70, w: W*0.16, bright: 0.12 },
      { angle:  0.45, cx: cx+W*0.13, top: H*0.1,  h: H*0.60, w: W*0.12, bright: 0.05 },
      { angle: -0.22, cx: cx-W*0.22, top: H*0.22, h: H*0.48, w: W*0.10, bright: -0.02 },
      { angle:  0.2,  cx: cx+W*0.24, top: H*0.25, h: H*0.44, w: W*0.09, bright: -0.04 },
    ];

    prisms.forEach((p, i) => {
      const hw = p.w/2;
      const tip = [p.cx + Math.sin(p.angle)*p.h*0.1, p.top];
      const bot = [p.cx, p.top + p.h + H*0.01];
      const lBot = [p.cx - hw*0.7, p.top + p.h];
      const rBot = [p.cx + hw*0.7, p.top + p.h];
      const lMid = [p.cx - hw, p.top + p.h*0.5];
      const rMid = [p.cx + hw, p.top + p.h*0.5];
      const lSho = [p.cx - hw*0.6 + Math.sin(p.angle)*10, p.top + p.h*0.12];
      const rSho = [p.cx + hw*0.6 + Math.sin(p.angle)*10, p.top + p.h*0.1];

      const lv = 65 + p.bright * 60;

      // Shadow under prism
      c.save(); c.globalAlpha = 0.15 - i*0.02;
      fillPoly(c, [tip, rSho, rMid, rBot, bot, lBot, lMid, lSho].map(([x,y])=>[x+5,y+4]), '#000');
      c.restore();

      // Right face
      const rg = c.createLinearGradient(rSho[0], tip[1], rBot[0], rBot[1]);
      rg.addColorStop(0, `hsla(${hue+18+i*2},80%,${lv+10}%,0.9)`);
      rg.addColorStop(0.35,`hsla(${hue+10},85%,${lv}%,0.88)`);
      rg.addColorStop(0.7, `hsla(${hue+5},75%,${lv-15}%,0.85)`);
      rg.addColorStop(1,   `hsla(${hue},65%,${lv-32}%,0.9)`);
      fillPoly(c, [tip, rSho, rMid, rBot, bot], rg);

      // Left face (slightly darker)
      const lg = c.createLinearGradient(lSho[0], tip[1], lBot[0], lBot[1]);
      lg.addColorStop(0, `hsla(${hue+8},70%,${lv+4}%,0.82)`);
      lg.addColorStop(0.4,`hsla(${hue},75%,${lv-8}%,0.8)`);
      lg.addColorStop(1,  `hsla(${hue-5},60%,${lv-28}%,0.88)`);
      fillPoly(c, [tip, lSho, lMid, lBot, bot], lg);

      // Top cap ‚Äî bright
      const tg = c.createRadialGradient(p.cx, tip[1]+p.h*0.06, 1, p.cx, tip[1]+p.h*0.1, hw*1.5);
      tg.addColorStop(0, `rgba(255,255,255,${sh*0.6+0.25})`);
      tg.addColorStop(0.5,`hsla(${hue+20},70%,90%,0.5)`);
      tg.addColorStop(1, `hsla(${hue},65%,70%,0.2)`);
      fillPoly(c, [tip, rSho, lSho], tg);

      // Center ridge highlight
      c.save(); c.globalAlpha = 0.18;
      c.beginPath(); c.moveTo(tip[0], tip[1]); c.lineTo(bot[0], bot[1]);
      c.strokeStyle = 'rgba(255,255,220,1)'; c.lineWidth = 0.9; c.stroke(); c.restore();

      // Edges
      strokePoly(c, [tip, rSho, rMid, rBot, bot, lBot, lMid, lSho], `hsla(${hue+20},70%,80%,0.2)`, 0.7);

      // Internal warm glow
      c.save(); c.globalAlpha = 0.08;
      const ig = c.createRadialGradient(p.cx, p.top+p.h*0.45, 2, p.cx, p.top+p.h*0.45, hw*2);
      ig.addColorStop(0, `hsl(${hue+30},95%,90%)`); ig.addColorStop(1, 'transparent');
      c.fillStyle = ig; c.fillRect(0,0,W,H); c.restore();
    });

    // Base glow / melting point
    const baseGlow = c.createRadialGradient(cx, H*0.75, 5, cx, H*0.78, W*0.3);
    baseGlow.addColorStop(0, `hsla(${hue+10},90%,75%,0.22)`);
    baseGlow.addColorStop(1, 'transparent');
    c.fillStyle = baseGlow; c.fillRect(0,0,W,H);

    caustics(c, cx, H*0.82, W, hue, rng, 7);
    vignette(c, W, H);

    // Sparkles on tips
    prisms.slice(0,3).forEach((p,i) => {
      star(c, p.cx+Math.sin(p.angle)*5, p.top+2, W*(0.035-i*0.006), 'rgba(255,248,200,0.95)', 0.85-i*0.1);
    });
    for(let i=0;i<10;i++) {
      c.save(); c.globalAlpha=rng()*0.45+0.1;
      c.fillStyle=`hsla(${hue+rng()*25-5},85%,96%,1)`;
      c.beginPath(); c.arc(W*0.1+rng()*W*0.8, H*0.05+rng()*H*0.88, rng()*2+0.3, 0, Math.PI*2); c.fill(); c.restore();
    }
  }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     üåä CRYSTAL 3 ‚Äî ƒê·∫†I D∆Ø∆†NG THU·∫¶N KHI·∫æT
     Visual: Aquamarine tower ‚Äî tall translucent column,
     green-blue gradient, like frozen seawater.
     Meaning: Ngu·ªìn n∆∞·ªõc su·ªëi Ba V√¨ trong l√†nh
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  function drawDaiDuong(c, W, H, rng) {
    const cx = W/2 + (rng()-0.5)*14;
    const hue = 168 + rng()*24, sh = rng()*0.3+0.55;
    drawBg(c, W, H, hue-15, hue+20, 58, 9, 3);

    glow(c, cx, H*0.5, W*0.6, `hsl(${hue},80%,60%)`, 0.16);
    glow(c, cx-W*0.1, H*0.3, W*0.28, `hsl(${hue+20},90%,80%)`, 0.1);

    // 3 columns at different heights
    const cols = [
      { x: cx - W*0.19, top: H*0.12, h: H*0.72, w: W*0.155, lean: 4,  order: 2 },
      { x: cx + W*0.03, top: H*0.06, h: H*0.80, w: W*0.175, lean: -3, order: 3 },
      { x: cx + W*0.23, top: H*0.18, h: H*0.65, w: W*0.130, lean: 5,  order: 1 },
    ];

    cols.sort((a,b) => a.order - b.order).forEach((col) => {
      const hw = col.w/2, lx = col.lean;
      const tip   = [col.x + lx*0.3, col.top];
      const rSho  = [col.x + hw*0.7 + lx, col.top + col.h*0.09];
      const lSho  = [col.x - hw*0.7 + lx*0.5, col.top + col.h*0.09];
      const rWaist= [col.x + hw*0.95, col.top + col.h*0.5];
      const lWaist= [col.x - hw*0.95, col.top + col.h*0.5];
      const rBase = [col.x + hw*0.75, col.top + col.h];
      const lBase = [col.x - hw*0.75, col.top + col.h];
      const bot   = [col.x, col.top + col.h + H*0.01];

      // Shadow
      c.save(); c.globalAlpha = 0.15;
      fillPoly(c, [tip, rSho, rWaist, rBase, bot, lBase, lWaist, lSho].map(([x,y])=>[x+6,y+4]),'#000');
      c.restore();

      // Left face
      const lf = c.createLinearGradient(tip[0]-hw*0.5, col.top, lWaist[0], col.top+col.h);
      lf.addColorStop(0,   `hsla(${hue+20},70%,80%,0.75)`);
      lf.addColorStop(0.3, `hsla(${hue+12},72%,60%,0.72)`);
      lf.addColorStop(0.7, `hsla(${hue},65%,40%,0.78)`);
      lf.addColorStop(1,   `hsla(${hue-5},55%,22%,0.85)`);
      fillPoly(c, [tip, lSho, lWaist, lBase, bot], lf);

      // Right face (lighter)
      const rf = c.createLinearGradient(tip[0]+hw*0.5, col.top, rWaist[0], col.top+col.h);
      rf.addColorStop(0,   `hsla(${hue+25},60%,88%,0.82)`);
      rf.addColorStop(0.25,`hsla(${hue+15},68%,72%,0.78)`);
      rf.addColorStop(0.6, `hsla(${hue+5},62%,50%,0.82)`);
      rf.addColorStop(1,   `hsla(${hue},52%,28%,0.88)`);
      fillPoly(c, [tip, rSho, rWaist, rBase, bot], rf);

      // Top cap
      const tc = c.createRadialGradient(col.x, col.top+col.h*0.05, 1, col.x, col.top+col.h*0.08, hw);
      tc.addColorStop(0, `rgba(255,255,255,${sh*0.6+0.25})`);
      tc.addColorStop(0.5,`hsla(${hue+25},65%,90%,0.45)`);
      tc.addColorStop(1, `hsla(${hue},60%,70%,0.2)`);
      fillPoly(c, [tip, rSho, lSho], tc);

      // Bottom point
      fillPoly(c, [rBase, lBase, bot], `hsla(${hue},45%,18%,0.85)`);

      // Internal water ripple layers
      for(let j=0;j<4;j++) {
        const fy = col.top + col.h*(0.22+j*0.16) + rng()*col.h*0.04;
        c.save(); c.globalAlpha = 0.05+rng()*0.04;
        c.beginPath(); c.ellipse(col.x, fy, hw*0.55, col.h*0.012, 0, 0, Math.PI*2);
        c.fillStyle = `hsl(${hue+15},75%,92%)`; c.fill(); c.restore();
      }

      fractures(c, col.x, col.top, col.top+col.h, col.w*2, hue, rng, 3);

      // Edges
      strokePoly(c, [tip, rSho, rWaist, rBase, bot, lBase, lWaist, lSho], `hsla(${hue+20},60%,82%,0.2)`, 0.75);

      // Center spine
      c.save(); c.globalAlpha = 0.12;
      c.beginPath(); c.moveTo(tip[0], tip[1]); c.lineTo(bot[0], bot[1]);
      c.strokeStyle = 'rgba(255,255,255,0.9)'; c.lineWidth = 0.8; c.stroke(); c.restore();
    });

    caustics(c, cx, H*0.87, W, hue, rng, 7);
    vignette(c, W, H);

    // Tips sparkle
    cols.forEach((col,i) => {
      specular(c, col.x, col.top+H*0.03, col.w*0.22, col.h*0.018, 0, sh*0.6+0.1-i*0.08);
    });
    star(c, cx+W*0.03, H*0.06+4, W*0.035, 'rgba(200,255,240,0.9)', 0.85);
    for(let i=0;i<12;i++) {
      c.save(); c.globalAlpha=rng()*0.45+0.08;
      c.fillStyle=`hsla(${hue+rng()*30},80%,94%,1)`;
      c.beginPath(); c.arc(W*0.1+rng()*W*0.8, H*0.05+rng()*H*0.9, rng()*2+0.3, 0, Math.PI*2); c.fill(); c.restore();
    }
  }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     üî¥ CRYSTAL 4 ‚Äî SAN H√î NHI·ªÜT HUY·∫æT
     Visual: Red spessartine garnet ‚Äî deep crimson with
     intense orange fire at edges, multi-shard burst.
     Meaning: V∆∞∆°n t·ª± do nh∆∞ nh√°nh san h√¥ TH m·ªü r·ªông
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  function drawSanHo(c, W, H, rng) {
    const cx = W/2 + (rng()-0.5)*16;
    const hue = 10 + rng()*15, sh = rng()*0.3+0.55;
    drawBg(c, W, H, hue-5, hue+20, 60, 9, 3);

    glow(c, cx, H*0.48, W*0.58, `hsl(${hue+5},88%,55%)`, 0.2);
    glow(c, cx, H*0.38, W*0.28, `hsl(${hue+20},95%,72%)`, 0.14);

    // Main central column
    const mw = W*0.165, mx = cx + (rng()-0.5)*12;
    const mTop = H*0.07, mBot = H*0.90;
    const mPts = [
      [mx, mTop],
      [mx+mw*0.6,  mTop+H*0.08],  [mx+mw, mTop+H*0.28],
      [mx+mw*0.95, mTop+H*0.60],  [mx+mw*0.65, mBot],
      [mx, mBot+H*0.01], [mx-mw*0.65, mBot],
      [mx-mw*0.95, mTop+H*0.60],  [mx-mw, mTop+H*0.28],
      [mx-mw*0.6,  mTop+H*0.08],
    ];

    // Shadow
    c.save(); c.globalAlpha = 0.18;
    fillPoly(c, mPts.map(([x,y])=>[x+7,y+5]), '#000');
    c.restore();

    // Left face
    const mLG = c.createLinearGradient(mx-mw, mTop, mx-mw*0.3, mBot);
    mLG.addColorStop(0,   `hsla(${hue+15},80%,75%,0.82)`);
    mLG.addColorStop(0.3, `hsla(${hue+8},82%,58%,0.8)`);
    mLG.addColorStop(0.7, `hsla(${hue},72%,40%,0.85)`);
    mLG.addColorStop(1,   `hsla(${hue-5},62%,22%,0.9)`);
    fillPoly(c, [[mx,mTop],mPts[9],mPts[8],mPts[7],mPts[6],[mx,mBot+H*0.01]], mLG);

    // Right face
    const mRG = c.createLinearGradient(mx+mw*0.4, mTop, mx+mw, mBot);
    mRG.addColorStop(0,   `hsla(${hue+22},72%,86%,0.88)`);
    mRG.addColorStop(0.25,`hsla(${hue+12},78%,68%,0.85)`);
    mRG.addColorStop(0.6, `hsla(${hue+4},70%,46%,0.88)`);
    mRG.addColorStop(1,   `hsla(${hue},60%,25%,0.92)`);
    fillPoly(c, [[mx,mTop],mPts[1],mPts[2],mPts[3],mPts[4],[mx,mBot+H*0.01]], mRG);

    // Top cap
    const mTC = c.createRadialGradient(mx, mTop+H*0.04, 1, mx, mTop+H*0.08, mw);
    mTC.addColorStop(0, `rgba(255,255,255,${sh*0.65+0.2})`);
    mTC.addColorStop(0.5,`hsla(${hue+25},75%,88%,0.45)`);
    mTC.addColorStop(1, 'transparent');
    fillPoly(c, [[mx,mTop],mPts[1],mPts[9]], mTC);

    strokePoly(c, mPts, `hsla(${hue+15},65%,80%,0.22)`, 0.85);

    // Center ridge
    c.save(); c.globalAlpha = 0.2;
    c.beginPath(); c.moveTo(mx, mTop); c.lineTo(mx+(rng()-0.5)*8, mBot);
    c.strokeStyle = 'rgba(255,200,180,1)'; c.lineWidth = 0.9; c.stroke(); c.restore();

    // Branch crystals
    const branches = [
      { side: -1, rootY: H*0.28, angle: -0.6, len: W*0.24, w: W*0.11, h: H*0.30 },
      { side:  1, rootY: H*0.20, angle:  0.52, len: W*0.27, w: W*0.12, h: H*0.26 },
      { side: -1, rootY: H*0.50, angle: -0.5,  len: W*0.19, w: W*0.09, h: H*0.23 },
      { side:  1, rootY: H*0.44, angle:  0.45, len: W*0.16, w: W*0.08, h: H*0.20 },
    ];

    branches.forEach((b, i) => {
      const rootX = mx + b.side * mw * 0.9;
      c.save(); c.translate(rootX, b.rootY); c.rotate(b.angle * b.side);
      const bw2 = b.w/2;
      const bpts = [
        [b.side*b.len,        0],
        [b.side*b.len*0.4,   -b.h*0.42],
        [b.side*b.len*0.18,  -b.h*0.5],
        [0,                  -bw2*0.45],
        [0,                   bw2*0.45],
        [b.side*b.len*0.18,   b.h*0.5],
        [b.side*b.len*0.4,    b.h*0.42],
      ];
      fillPoly(c, bpts, (() => {
        const bg = c.createLinearGradient(0, 0, b.side*b.len, 0);
        bg.addColorStop(0, `hsla(${hue+20},80%,72%,0.82)`);
        bg.addColorStop(0.45,`hsla(${hue+10},82%,55%,0.8)`);
        bg.addColorStop(1,   `hsla(${hue+2},70%,35%,0.85)`);
        return bg;
      })());
      // Tip highlight
      fillPoly(c, [[b.side*b.len,0],[b.side*b.len*0.4,-b.h*0.42],[b.side*b.len*0.18,-b.h*0.5],[0,-bw2*0.45],[0,0]],
        `hsla(${hue+28},62%,88%,0.3)`);
      strokePoly(c, bpts, `hsla(${hue+18},65%,78%,0.18)`, 0.65);
      c.restore();
    });

    fractures(c, mx, mTop, mBot, W, hue, rng, 5);
    caustics(c, cx, H*0.88, W, hue, rng, 6);
    vignette(c, W, H);

    // Tip specular + sparkles
    specular(c, mx, mTop+H*0.04, W*0.038, H*0.018, 0, sh*0.85+0.1);
    star(c, mx+1, mTop+3, W*0.038, 'rgba(255,220,180,0.95)', 0.88);
    for(let i=0;i<12;i++) {
      c.save(); c.globalAlpha=rng()*0.45+0.1;
      c.fillStyle=`hsla(${hue+rng()*35},80%,95%,1)`;
      c.beginPath(); c.arc(W*0.1+rng()*W*0.8, H*0.05+rng()*H*0.9, rng()*1.8+0.3, 0, Math.PI*2); c.fill(); c.restore();
    }
  }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     üíú CRYSTAL 5 ‚Äî TH·∫†CH ANH T√çM HUY·ªÄN B√ç
     Visual: Amethyst geode ‚Äî deep violet hexagonal
     prisms with phantom inclusions and phantom zones.
     Meaning: Chi·ªÅu s√¢u tr√≠ tu·ªá t√≠ch l≈©y theo th·ªùi gian
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  function drawThachAnh(c, W, H, rng) {
    const cx = W/2 + (rng()-0.5)*14;
    const hue = 272 + rng()*26, sh = rng()*0.3+0.5;
    drawBg(c, W, H, hue-20, hue+15, 45, 8, 2);

    glow(c, cx, H*0.48, W*0.6, `hsl(${hue},75%,65%)`, 0.15);
    glow(c, cx-W*0.08, H*0.32, W*0.28, `hsl(${hue+25},85%,80%)`, 0.1);

    // Hexagonal prism ‚Äî 3 visible faces
    const hR = W*0.27, pH = H*0.63, startY = H*0.09, endY = startY + pH;
    const tipY = startY - H*0.055;

    // Compute hex vertices at top and bottom
    const hexTop = Array.from({length:6}, (_,i) => {
      const a = i*Math.PI/3 - Math.PI/6;
      return [cx + hR*Math.cos(a), startY + hR*0.22*Math.sin(a)];
    });
    const hexBot = Array.from({length:6}, (_,i) => {
      const a = i*Math.PI/3 - Math.PI/6;
      return [cx + hR*Math.cos(a)*0.92, endY + hR*0.15*Math.sin(a)];
    });

    // Shadow
    c.save(); c.globalAlpha = 0.18;
    const shadowPts = [...hexTop, ...hexBot].map(([x,y])=>[x+8,y+5]);
    c.beginPath(); shadowPts.forEach(([x,y],i) => i===0?c.moveTo(x,y):c.lineTo(x,y)); c.closePath();
    c.fillStyle = '#000'; c.fill(); c.restore();

    // Draw 3 visible rectangular faces
    const faceData = [
      { i: 0, lightFactor: 1.0,  satBoost: 0 },
      { i: 1, lightFactor: 0.72, satBoost: 5 },
      { i: 2, lightFactor: 0.50, satBoost: 8 },
    ];
    faceData.forEach(({ i, lightFactor: lf }) => {
      const t1 = hexTop[i], t2 = hexTop[(i+1)%6];
      const b1 = hexBot[i], b2 = hexBot[(i+1)%6];
      const fg = c.createLinearGradient(t1[0], startY, t1[0], endY);
      const hl = 68 * lf, ll = 28 * lf;
      fg.addColorStop(0,   `hsla(${hue+18},68%,${hl+6}%,${0.82+lf*0.05})`);
      fg.addColorStop(0.35,`hsla(${hue+8}, 72%,${hl   }%,${0.8+lf*0.04})`);
      fg.addColorStop(0.7, `hsla(${hue},   65%,${hl*.65}%,${0.82+lf*0.04})`);
      fg.addColorStop(1,   `hsla(${hue-10},55%,${ll    }%,${0.85})`);
      fillPoly(c, [t1, t2, b2, b1], fg);
      // Edge line
      c.beginPath(); c.moveTo(t1[0],t1[1]); c.lineTo(b1[0],b1[1]);
      c.strokeStyle = `hsla(${hue+20},60%,85%,0.22)`; c.lineWidth = 0.8; c.stroke();
    });

    // Top hexagon face
    c.beginPath();
    hexTop.forEach(([x,y],i) => i===0 ? c.moveTo(x,y) : c.lineTo(x,y));
    c.closePath();
    const thg = c.createRadialGradient(cx, startY, 2, cx, startY, hR*0.9);
    thg.addColorStop(0, `rgba(255,255,255,${sh*0.55+0.25})`);
    thg.addColorStop(0.45, `hsla(${hue+20},55%,85%,0.5)`);
    thg.addColorStop(1, `hsla(${hue},60%,55%,0.3)`);
    c.fillStyle = thg; c.fill();
    strokePoly(c, hexTop, `hsla(${hue+15},55%,82%,0.2)`, 0.7);

    // Crystal tip (termination)
    const tipPts = [
      hexTop[0], hexTop[1], [cx, tipY]
    ];
    const tTG = c.createLinearGradient(hexTop[0][0], startY, cx, tipY);
    tTG.addColorStop(0, `hsla(${hue},55%,65%,0.8)`);
    tTG.addColorStop(1, `hsla(${hue+20},50%,92%,0.85)`);
    fillPoly(c, tipPts, tTG);
    // Other tip faces
    [[1,2],[2,3]].forEach(([a,b]) => {
      const brightness = 0.8 - b*0.12;
      fillPoly(c, [hexTop[a], hexTop[b], [cx, tipY]],
        `hsla(${hue+10},55%,${58*brightness}%,${brightness*0.82})`);
    });

    // Bottom termination
    fillPoly(c, [hexBot[2], hexBot[3], [cx, endY+H*0.08]],
      `hsla(${hue-10},48%,20%,0.85)`);

    // Phantom zones (growth layers visible inside)
    for(let j=0;j<4;j++) {
      const py = startY + pH*(0.15+j*0.18);
      c.save(); c.globalAlpha = 0.07+rng()*0.04;
      c.beginPath(); c.ellipse(cx, py, hR*0.55, pH*0.013, 0, 0, Math.PI*2);
      c.fillStyle = `hsl(${hue+j*15},70%,82%)`; c.fill(); c.restore();
    }

    // Satellite crystal (smaller, left)
    const sx=cx-W*0.3, sTop=H*0.32, sH=H*0.3, sR=W*0.095;
    const sHexT = Array.from({length:6}, (_,i) => {
      const a = i*Math.PI/3 - Math.PI/6;
      return [sx + sR*Math.cos(a), sTop + sR*0.25*Math.sin(a)];
    });
    c.beginPath(); sHexT.forEach(([x,y],i) => i===0?c.moveTo(x,y):c.lineTo(x,y)); c.closePath();
    const sTG = c.createRadialGradient(sx, sTop, 1, sx, sTop, sR);
    sTG.addColorStop(0, `hsla(${hue+20},55%,80%,0.6)`); sTG.addColorStop(1, `hsla(${hue},50%,45%,0.5)`);
    c.fillStyle=sTG; c.fill();
    [[0,1],[1,2]].forEach(([a,b]) => {
      const sb1=sHexT[a], sb2=sHexT[(a+1)%6];
      fillPoly(c, [sb1, sb2, [sx, sTop+sH], [sx+sR*(b?0.4:-0.4), sTop+sH]], `hsla(${hue+(b?10:-5)},60%,${62-b*15}%,0.7)`);
    });
    // Satellite tip
    fillPoly(c, [sHexT[0], sHexT[1], [sx+sR*0.3, sTop-sH*0.5]], `hsla(${hue+22},50%,88%,0.6)`);

    fractures(c, cx, startY, endY, W, hue, rng, 6);
    caustics(c, cx, endY+H*0.06, W, hue, rng, 5);
    vignette(c, W, H);

    specular(c, cx, tipY+H*0.02, W*0.04, H*0.018, 0, sh*0.8+0.12);
    star(c, cx, tipY+3, W*0.036, 'rgba(230,200,255,0.95)', 0.85);
    star(c, cx+W*0.28, H*0.38, W*0.018, 'rgba(210,180,255,0.8)', 0.65);
    for(let i=0;i<12;i++) {
      c.save(); c.globalAlpha=rng()*0.45+0.1;
      c.fillStyle=`hsla(${hue+rng()*35-10},75%,95%,1)`;
      c.beginPath(); c.arc(W*0.1+rng()*W*0.8, H*0.05+rng()*H*0.9, rng()*2+0.3, 0, Math.PI*2); c.fill(); c.restore();
    }
  }

  /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     üå∏ CRYSTAL 6 ‚Äî H·ªíNG NG·ªåC √äM √ÅI
     Visual: Rose quartz slab ‚Äî two interlocking columns,
     soft pink with silky internal cloudiness.
     Meaning: T√¨nh y√™u b·ªÅn b·ªâ nh∆∞ s·ªØa TH m·ªói bu·ªïi s√°ng
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
  function drawHongNgoc(c, W, H, rng) {
    const cx = W/2 + (rng()-0.5)*12;
    const hue = 338 + rng()*20, sh = rng()*0.3+0.52;
    drawBg(c, W, H, hue-15, hue+15, 48, 9, 3);

    glow(c, cx-W*0.04, H*0.42, W*0.58, `hsl(${hue},80%,70%)`, 0.16);
    glow(c, cx-W*0.1, H*0.3, W*0.3, `hsl(${hue+15},88%,85%)`, 0.1);

    // Two interlocked prisms
    const bodies = [
      { x: cx-W*0.07, topY: H*0.07, h: H*0.76, rw: W*0.21, lean: W*0.018, al: 0.88 },
      { x: cx+W*0.11, topY: H*0.15, h: H*0.68, rw: W*0.185,lean:-W*0.012, al: 0.82 },
    ];

    bodies.forEach((b, bi) => {
      const hw = b.rw/2, lx = b.lean;
      const tipX = b.x + lx*0.35, tipY = b.topY;
      const rS = [b.x + hw*0.62 + lx, b.topY + b.h*0.08];
      const lS = [b.x - hw*0.62 + lx*0.4, b.topY + b.h*0.08];
      const rW = [b.x + b.rw*0.52, b.topY + b.h*0.42];
      const lW = [b.x - b.rw*0.52, b.topY + b.h*0.42];
      const rB = [b.x + b.rw*0.44, b.topY + b.h*0.84];
      const lB = [b.x - b.rw*0.44, b.topY + b.h*0.84];
      const rF = [b.x + b.rw*0.28, b.topY + b.h];
      const lF = [b.x - b.rw*0.28, b.topY + b.h];
      const bot = [b.x, b.topY + b.h + H*0.01];

      // Shadow
      c.save(); c.globalAlpha = 0.15 - bi*0.04;
      const shadPts = [[tipX,tipY],rS,rW,rB,rF,bot,lF,lB,lW,lS].map(([x,y])=>[x+6,y+5]);
      fillPoly(c, shadPts, '#000'); c.restore();

      // Right face
      const rfg = c.createLinearGradient(tipX, tipY, rW[0], b.topY+b.h);
      rfg.addColorStop(0,   `hsla(${hue+14},68%,90%,${b.al})`);
      rfg.addColorStop(0.28,`hsla(${hue+7}, 72%,72%,${b.al*0.96})`);
      rfg.addColorStop(0.62,`hsla(${hue+2}, 65%,50%,${b.al*0.92})`);
      rfg.addColorStop(1,   `hsla(${hue-7}, 55%,28%,${b.al})`);
      fillPoly(c, [[tipX,tipY], rS, rW, rB, rF, bot], rfg);

      // Left face
      const lfg = c.createLinearGradient(tipX, tipY, lW[0], b.topY+b.h);
      lfg.addColorStop(0,   `hsla(${hue+18},58%,84%,${b.al*0.88})`);
      lfg.addColorStop(0.35,`hsla(${hue+10},62%,65%,${b.al*0.85})`);
      lfg.addColorStop(0.7, `hsla(${hue+3}, 56%,44%,${b.al*0.88})`);
      lfg.addColorStop(1,   `hsla(${hue-5}, 48%,25%,${b.al*0.9})`);
      fillPoly(c, [[tipX,tipY], lS, lW, lB, lF, bot], lfg);

      // Top cap (warm bright)
      const tcg = c.createRadialGradient(b.x, tipY+b.h*0.05, 1, b.x, tipY+b.h*0.09, hw*1.2);
      tcg.addColorStop(0, `rgba(255,255,255,${sh*0.55+0.22})`);
      tcg.addColorStop(0.5,`hsla(${hue+22},65%,92%,0.42)`);
      tcg.addColorStop(1,  'transparent');
      fillPoly(c, [[tipX,tipY], rS, lS], tcg);

      // Bottom tip
      fillPoly(c, [rF, bot, lF], `hsla(${hue-8},45%,20%,0.82)`);

      // Silky internal cloudiness (rose quartz signature)
      for (let j = 0; j < 5; j++) {
        const fy = b.topY + b.h*(0.18+j*0.14) + rng()*b.h*0.06;
        const fx = b.x + (rng()-0.5)*hw*0.5;
        c.save(); c.globalAlpha = 0.07+rng()*0.06;
        c.beginPath(); c.ellipse(fx, fy, hw*(0.35+rng()*0.2), b.h*0.016, rng()*0.4-0.2, 0, Math.PI*2);
        c.fillStyle = `hsl(${hue+25},70%,95%)`; c.fill(); c.restore();
      }

      // Center spine
      c.save(); c.globalAlpha = 0.14+bi*0.03;
      c.beginPath(); c.moveTo(tipX, tipY); c.lineTo(bot[0], bot[1]);
      c.strokeStyle = 'rgba(255,220,230,0.9)'; c.lineWidth = 0.85; c.stroke(); c.restore();

      fractures(c, b.x, b.topY, b.topY+b.h, b.rw*2, hue, rng, 3);

      // Edge
      strokePoly(c, [[tipX,tipY],rS,rW,rB,rF,bot,lF,lB,lW,lS],
        `hsla(${hue+18},55%,84%,0.2)`, 0.75);
    });

    // Warm blush glow between the two bodies
    const blush = c.createRadialGradient(cx, H*0.45, 5, cx, H*0.45, W*0.2);
    blush.addColorStop(0, `hsla(${hue+10},80%,82%,0.12)`);
    blush.addColorStop(1, 'transparent');
    c.fillStyle = blush; c.fillRect(0,0,W,H);

    caustics(c, cx, H*0.88, W, hue, rng, 6);
    vignette(c, W, H);

    // Specular on each body
    bodies.forEach((b, i) => {
      specular(c, b.x+b.lean*0.3, b.topY+H*0.09, b.rw*0.24, b.h*0.02, b.lean*0.01, sh*0.6+0.12-i*0.07);
    });
    star(c, bodies[0].x+bodies[0].lean*0.3, bodies[0].topY+3, W*0.034, 'rgba(255,210,225,0.95)', 0.85);
    for(let i=0;i<13;i++) {
      c.save(); c.globalAlpha=rng()*0.45+0.1;
      c.fillStyle=`hsla(${hue+rng()*28-5},72%,96%,1)`;
      c.beginPath(); c.arc(W*0.1+rng()*W*0.8, H*0.05+rng()*H*0.9, rng()*2+0.3, 0, Math.PI*2); c.fill(); c.restore();
    }
  }

  /* ‚îÄ‚îÄ Crystal registry ‚îÄ‚îÄ */
  const CRYSTAL_TYPES = [
    {
      name: 'Tinh Th·ªÉ Pha L√™',
      type: 'PHA L√ä',
      tag:  'hsl(200,70%,72%)',
      meaning: 'Trong v·∫Øt nh∆∞ gi·ªçt s·ªØa TH ƒë·∫ßu ti√™n ch·∫Øt l·ªçc t·ª´ ƒë·ªìng c·ªè s·∫°ch ‚Äî kh√¥ng pha t·∫°p, kh√¥ng th√™m th·∫Øt. B·∫°n l√† ng∆∞·ªùi tr√¢n tr·ªçng s·ª± th·∫≠t thu·∫ßn khi·∫øt v√† nh√¨n th·∫•u b·∫£n ch·∫•t c·ªßa m·ªçi th·ª©.',
      draw: drawPhaLe
    },
    {
      name: 'Tinh Th·ªÉ H∆∞·ªõng D∆∞∆°ng',
      type: 'H∆Ø·ªöNG D∆Ø∆†NG',
      tag:  'hsl(44,90%,65%)',
      meaning: 'R·ª±c r·ª° nh∆∞ ƒë·ªìng c·ªè Ba V√¨ d∆∞·ªõi n·∫Øng v√†ng ‚Äî n∆°i ƒë√†n b√≤ TH h·∫•p thu nƒÉng l∆∞·ª£ng ƒë·∫•t tr·ªùi m·ªói ng√†y. B·∫°n mang trong m√¨nh ngu·ªìn sinh l·ª±c ·∫•m √°p, lan t·ªèa v√† kh√¥ng bao gi·ªù c·∫°n ki·ªát.',
      draw: drawHuongDuong
    },
    {
      name: 'Tinh Th·ªÉ ƒê·∫°i D∆∞∆°ng',
      type: 'ƒê·∫†I D∆Ø∆†NG',
      tag:  'hsl(175,70%,58%)',
      meaning: 'Trong l√†nh nh∆∞ ngu·ªìn n∆∞·ªõc su·ªëi n√∫i Ba V√¨ ch·∫£y m√£i kh√¥ng ng·ª´ng ‚Äî n∆°i TH b·∫Øt ƒë·∫ßu c√¢u chuy·ªán s·ªØa s·∫°ch cho ng∆∞·ªùi Vi·ªát. B·∫°n l√† ng∆∞·ªùi mang l·∫°i s·ª± b√¨nh y√™n v√† t∆∞∆°i m√°t cho m·ªçi ng∆∞·ªùi.',
      draw: drawDaiDuong
    },
    {
      name: 'Tinh Th·ªÉ San H√¥',
      type: 'SAN H√î',
      tag:  'hsl(18,88%,65%)',
      meaning: 'V∆∞∆°n nh√°nh t·ª± do nh∆∞ h√†nh tr√¨nh TH kh√¥ng ng·ª´ng m·ªü r·ªông t·ª´ m·ªôt c·ªëc s·ªØa ƒë·∫øn trƒÉm s·∫£n ph·∫©m dinh d∆∞·ª°ng. B·∫°n d√°m kh√°c bi·ªát, d√°m ph√° v·ª° ranh gi·ªõi v√† t·∫°o n√™n nh·ªØng ƒëi·ªÅu ch∆∞a t·ª´ng c√≥.',
      draw: drawSanHo
    },
    {
      name: 'Tinh Th·ªÉ Th·∫°ch Anh',
      type: 'TH·∫†CH ANH T√çM',
      tag:  'hsl(282,68%,72%)',
      meaning: 'Huy·ªÅn b√≠ nh∆∞ b√≠ quy·∫øt t·ª´ng gi·ªçt s·ªØa TH ‚Äî t√≠ch l≈©y t·ª´ng t·∫ßng gi√° tr·ªã qua nƒÉm th√°ng. B·∫°n l√† ng∆∞·ªùi mang chi·ªÅu s√¢u tri th·ª©c v√† tr√≠ tu·ªá n·ªôi t√¢m m√† kh√¥ng ph·∫£i ai c≈©ng d·ªÖ d√†ng kh√°m ph√°.',
      draw: drawThachAnh
    },
    {
      name: 'Tinh Th·ªÉ H·ªìng Ng·ªçc',
      type: 'H·ªíNG NG·ªåC',
      tag:  'hsl(345,72%,72%)',
      meaning: '·∫§m √°p nh∆∞ b√†n tay ng∆∞·ªùi m·∫π pha ly s·ªØa TH m·ªói s√°ng cho con ‚Äî s·ª± y√™u th∆∞∆°ng b·ªÅn b·ªâ, l·∫∑ng l·∫Ω nh∆∞ng th·∫•m v√†o t·ª´ng kho·∫£nh kh·∫Øc. B·∫°n l√† tr√°i tim ·∫•m √°p, l√† ch·ªó d·ª±a v·ªØng ch·∫Øc c·ªßa m·ªçi ng∆∞·ªùi.',
      draw: drawHongNgoc
    },
  ];

  const ATTR_NAMES = ['ƒê·ªô tinh khi·∫øt','NƒÉng l∆∞·ª£ng','C·ªông h∆∞·ªüng','ƒê·ªô hi·∫øm','√Ånh s√°ng n·ªôi t√¢m'];

  function drawCrystal(seedNum, ctype, rng) {
    const cv = document.getElementById('crystalCanvas2');
    const c  = cv.getContext('2d');
    c.clearRect(0, 0, cv.width, cv.height);
    ctype.draw(c, cv.width, cv.height, rng);
    // Subtle watermark
    c.save(); c.globalAlpha = 0.045;
    c.font = `300 ${cv.height*0.15}px 'Cormorant Garamond',serif`;
    c.fillStyle = 'white'; c.textAlign = 'center'; c.textBaseline = 'middle';
    c.fillText('TH', cv.width/2, cv.height*0.52); c.restore();
  }

  function generateCrystal() {
    const raw = document.getElementById('codeInput').value.trim();
    if (!raw) {
      const inp = document.getElementById('codeInput');
      inp.style.borderColor = 'rgba(255,80,80,.7)';
      inp.placeholder = 'Vui l√≤ng nh·∫≠p m√£ th·∫ª c√†o!';
      setTimeout(() => { inp.style.borderColor='rgba(0,114,206,.35)'; inp.placeholder='Nh·∫≠p m√£ th·∫ª c√†o (VD: TH-2026-XXXXXXXX)'; }, 2200);
      return;
    }
    const btn = document.getElementById('codeSubmit');
    btn.textContent = '‚ú¶ ƒêang ƒë√∫c...'; btn.style.opacity = '.65';

    setTimeout(() => {
      const tc = new Date().getMinutes() + new Date().getSeconds();
      const seedNum = hashCode(raw.toUpperCase() + '|' + tc);
      const rng     = seededRNG(seedNum);
      const typeIdx = hashCode(raw.toUpperCase()) % CRYSTAL_TYPES.length;
      const ctype   = CRYSTAL_TYPES[typeIdx];
      const codeRng = seededRNG(hashCode(raw.toUpperCase()));
      const attrs   = ATTR_NAMES.map(n => ({ name: n, val: Math.floor(codeRng()*35)+65 }));

      drawCrystal(seedNum, ctype, rng);

      document.getElementById('crystalName').textContent    = ctype.name;
      document.getElementById('crystalType').textContent    = '‚ú¶ ' + ctype.type + ' ‚ú¶';
      document.getElementById('crystalType').style.color    = ctype.tag;
      document.getElementById('crystalMeaning').textContent = ctype.meaning;

      document.getElementById('crystalAttrs').innerHTML = attrs.map(a => `
        <div style="display:flex;align-items:center;gap:12px;">
          <span style="font-size:.74rem;color:rgba(255,255,255,.42);min-width:120px;">${a.name}</span>
          <div style="flex:1;height:3px;background:rgba(255,255,255,.07);border-radius:2px;overflow:hidden;">
            <div style="height:100%;width:${a.val}%;background:linear-gradient(90deg,${ctype.tag},rgba(255,255,255,.7));border-radius:2px;"></div>
          </div>
          <span style="font-size:.74rem;color:rgba(255,255,255,.65);min-width:28px;text-align:right;">${a.val}</span>
        </div>`).join('');
      btn.textContent = '‚ú¶ ƒê√∫c l·∫°i';
      btn.style.opacity = '1';
      btn.style.background = 'linear-gradient(135deg,#002B5C,var(--blue-bright))';
    }, 900);
  }

  function downloadCrystal() {
    const cv   = document.getElementById('crystalCanvas2');
    const name = document.getElementById('crystalName').textContent || 'tinh-the';
    const link = document.createElement('a');
    link.download = name.replace(/\s+/g,'-').toLowerCase() + '.png';
    link.href = cv.toDataURL('image/png'); link.click();
  }

  document.getElementById('codeInput').addEventListener('keydown', e => {
    if (e.key === 'Enter') generateCrystal();
  });
</script>
</body>
</html>
